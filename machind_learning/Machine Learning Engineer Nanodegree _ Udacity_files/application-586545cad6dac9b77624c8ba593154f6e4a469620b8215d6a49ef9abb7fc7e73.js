!function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(r){var i,a,o,s,u,l;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,u=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){i=r.data("ujs:submit-button-formmethod")||r.attr("method"),a=r.data("ujs:submit-button-formaction")||r.attr("action"),o=e(r[0].elements).serializeArray();var c=r.data("ujs:submit-button");c&&(o.push(c),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(n.inputChangeSelector)?(i=r.data("method"),a=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",a=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(i=r.data("method"),a=n.href(r),o=r.data("params")||null);return l={type:i||"GET",data:o,dataType:u,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[e,i])?void r.trigger("ajax:send",e):!1},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(a)},s&&(l.xhrFields={withCredentials:s}),a&&(l.url=a),n.ajax(l)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(r){return!0}},handleMethod:function(r){var i=n.href(r),a=r.data("method"),o=r.attr("target"),s=n.csrfToken(),u=n.csrfParam(),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';u===t||s===t||n.isCrossDomain(i)||(c+='<input name="'+u+'" value="'+s+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,r;n=e.is("button")?"html":"val",r=e.data("disable-with"),r!==t&&(e.data("ujs:enable-with",e[n]()),e[n](r)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,r=e.data("confirm"),i=!1;if(!r)return!0;if(n.fire(e,"confirm")){try{i=n.confirm(r)}catch(a){(console.error||console.log).call(console,a.stack||a)}t=n.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(t,n,r){var i,a,o=e(),s=n||"input,textarea",u=t.find(s);return u.each(function(){if(i=e(this),a=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val(),a===r){if(i.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;o=o.add(i)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var r=e.data("disable-with");r!==t&&(e.data("ujs:enable-with",e.html()),e.html(r)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),r.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),r.delegate(n.linkClickSelector,"click.rails",function(t){var r=e(this),i=r.data("method"),a=r.data("params"),o=t.metaKey||t.ctrlKey;if(!n.allowAction(r))return n.stopEverything(t);if(!o&&r.is(n.linkDisableSelector)&&n.disableElement(r),n.isRemote(r)){if(o&&(!i||"GET"===i)&&!a)return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.fail(function(){n.enableElement(r)}),!1}return i?(n.handleMethod(r),!1):void 0}),r.delegate(n.buttonClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(t);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);return i===!1?n.enableFormElement(r):i.fail(function(){n.enableFormElement(r)}),!1}),r.delegate(n.inputChangeSelector,"change.rails",function(t){var r=e(this);return n.allowAction(r)&&n.isRemote(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i,a,o=e(this),s=n.isRemote(o);if(!n.allowAction(o))return n.stopEverything(r);if(o.attr("novalidate")===t)if(o.data("ujs:formnovalidate-button")===t){if(i=n.blankInputs(o,n.requiredInputSelector,!1),i&&n.fire(o,"ajax:aborted:required",[i]))return n.stopEverything(r)}else o.data("ujs:formnovalidate-button",t);if(s){if(a=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var u=n.fire(o,"ajax:aborted:file",[a]);return u||setTimeout(function(){n.enableFormElements(o)},13),u}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var i=r.attr("name"),a=i?{name:i,value:r.val()}:null,o=r.closest("form");0===o.length&&(o=e("#"+r.attr("form"))),o.data("ujs:submit-button",a),o.data("ujs:formnovalidate-button",r.attr("formnovalidate")),o.data("ujs:submit-button-formaction",r.attr("formaction")),o.data("ujs:submit-button-formmethod",r.attr("formmethod"))}),r.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&n.disableFormElements(e(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
function(e,t){function n(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function r(e){return d?d(e):"[object Array]"===f.call(e)}function i(e){return e&&"[object Object]"===f.call(e)}function a(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function o(e,t,n){var r,i,a=[];if(!e)return a;if(c&&e.map===c)return e.map(t,n);for(r=0,i=e.length;i>r;r++)a[r]=t.call(n,e[r],r,e);return a}function s(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function u(e){var t=l.settings.currency.format;return"function"==typeof e&&(e=e()),n(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:n(t)?l.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var l={};l.version="0.4.1",l.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var c=Array.prototype.map,d=Array.isArray,f=Object.prototype.toString,h=l.unformat=l.parse=function(e,t){if(r(e))return o(e,function(e){return h(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||l.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(i)?0:i},p=l.toFixed=function(e,t){t=s(t,l.settings.number.precision);var n=Math.pow(10,t);return(Math.round(l.unformat(e)*n)/n).toFixed(t)},m=l.formatNumber=l.format=function(e,t,n,u){if(r(e))return o(e,function(e){return m(e,t,n,u)});e=h(e);var c=a(i(t)?t:{precision:t,thousand:n,decimal:u},l.settings.number),d=s(c.precision),f=0>e?"-":"",g=parseInt(p(Math.abs(e||0),d),10)+"",v=g.length>3?g.length%3:0;return f+(v?g.substr(0,v)+c.thousand:"")+g.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+c.thousand)+(d?c.decimal+p(Math.abs(e),d).split(".")[1]:"")},g=l.formatMoney=function(e,t,n,c,d,f){if(r(e))return o(e,function(e){return g(e,t,n,c,d,f)});e=h(e);var p=a(i(t)?t:{symbol:t,precision:n,thousand:c,decimal:d,format:f},l.settings.currency),v=u(p.format),y=e>0?v.pos:0>e?v.neg:v.zero;return y.replace("%s",p.symbol).replace("%v",m(Math.abs(e),s(p.precision),p.thousand,p.decimal))};l.formatColumn=function(e,t,c,d,f,p){if(!e)return[];var g=a(i(t)?t:{symbol:t,precision:c,thousand:d,decimal:f,format:p},l.settings.currency),v=u(g.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v")?!0:!1,b=0,w=o(e,function(e,t){if(r(e))return l.formatColumn(e,g);e=h(e);var n=e>0?v.pos:0>e?v.neg:v.zero,i=n.replace("%s",g.symbol).replace("%v",m(Math.abs(e),s(g.precision),g.thousand,g.decimal));return i.length>b&&(b=i.length),i});return o(w,function(e,t){return n(e)&&e.length<b?y?e.replace(g.symbol,g.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=l),exports.accounting=l):"function"==typeof define&&define.amd?define([],function(){return l}):(l.noConflict=function(n){return function(){return e.accounting=n,l.noConflict=t,l}}(e.accounting),e.accounting=l)}(this),function(e){e.urlParam=function(e,t){t||(t=window.location.href);var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?n[1]||void 0:void 0}}(jQuery),/*!
 * JavaScript Cookie v2.0.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,a){var o;if(arguments.length>1){if(a=e({path:"/"},r.defaults,a),"number"==typeof a.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(u){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,a.expires&&"; expires="+a.expires.toUTCString(),a.path&&"; path="+a.path,a.domain&&"; domain="+a.domain,a.secure?"; secure":""].join("")}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var f=l[d].split("="),h=f[0].replace(c,decodeURIComponent),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{if(p=n.read?n.read(p,h):n(p,h)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(u){}if(t===h){o=p;break}t||(o[h]=p)}catch(u){}}return o}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.push,s=r.slice,u=r.concat,l=i.toString,c=i.hasOwnProperty,d=r.forEach,f=r.map,h=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,E=a.bind,C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.6.0";var k=C.each=C.forEach=function(e,t,r){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o=C.keys(e),i=0,a=o.length;a>i;i++)if(t.call(r,e[o[i]],o[i],e)===n)return;return e};C.map=C.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(k(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r)};var S="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(k(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError(S);return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=C.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=C.keys(e);a=o.length}if(k(e,function(s,u,l){u=o?o[--a]:--a,i?n=t.call(r,n,e[u],u,l):(n=e[u],i=!0)}),!i)throw new TypeError(S);return n},C.find=C.detect=function(e,t,n){var r;return _(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},C.filter=C.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(k(e,function(e,i,a){t.call(n,e,i,a)&&r.push(e)}),r)},C.reject=function(e,t,n){return C.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},C.every=C.all=function(e,t,r){t||(t=C.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(k(e,function(e,a,o){return(i=i&&t.call(r,e,a,o))?void 0:n}),!!i)};var _=C.some=C.any=function(e,t,r){t||(t=C.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,r):(k(e,function(e,a,o){return i||(i=t.call(r,e,a,o))?n:void 0}),!!i)};C.contains=C.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):_(e,function(e){return e===t})},C.invoke=function(e,t){var n=s.call(arguments,2),r=C.isFunction(t);return C.map(e,function(e){return(r?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matches(t))},C.findWhere=function(e,t){return C.find(e,C.matches(t))},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,i=-1/0;return k(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;s>i&&(r=e,i=s)}),r},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=1/0,i=1/0;return k(e,function(e,a,o){var s=t?t.call(n,e,a,o):e;i>s&&(r=e,i=s)}),r},C.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r},C.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return null==e?C.identity:C.isFunction(e)?e:C.property(e)};C.sortBy=function(e,t,n){return t=A(t),C.pluck(C.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=A(n),k(t,function(a,o){var s=n.call(r,a,o,t);e(i,s,a)}),i}};C.groupBy=O(function(e,t,n){C.has(e,t)?e[t].push(n):e[t]=[n]}),C.indexBy=O(function(e,t,n){e[t]=n}),C.countBy=O(function(e,t){C.has(e,t)?e[t]++:e[t]=1}),C.sortedIndex=function(e,t,n,r){n=A(n);for(var i=n.call(r,t),a=0,o=e.length;o>a;){var s=a+o>>>1;n.call(r,e[s])<i?a=s+1:o=s}return a},C.toArray=function(e){return e?C.isArray(e)?s.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:s.call(e,0,t)},C.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var T=function(e,t,n){return t&&C.every(e,C.isArray)?u.apply(n,e):(k(e,function(e){C.isArray(e)||C.isArguments(e)?t?o.apply(n,e):T(e,t,n):n.push(e)}),n)};C.flatten=function(e,t){return T(e,t,[])},C.without=function(e){return C.difference(e,s.call(arguments,1))},C.partition=function(e,t){var n=[],r=[];return k(e,function(e){(t(e)?n:r).push(e)}),[n,r]},C.uniq=C.unique=function(e,t,n,r){C.isFunction(t)&&(r=n,n=t,t=!1);var i=n?C.map(e,n,r):e,a=[],o=[];return k(i,function(n,r){(t?r&&o[o.length-1]===n:C.contains(o,n))||(o.push(n),a.push(e[r]))}),a},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=s.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.contains(t,e)})})},C.difference=function(e){var t=u.apply(r,s.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=C.pluck(arguments,""+n);return t},C.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=new Array(r);r>i;)a[i++]=e,e+=n;return a};var j=function(){};C.bind=function(e,t){var n,r;if(E&&e.bind===E)return E.apply(e,s.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));j.prototype=e.prototype;var i=new j;j.prototype=null;var a=e.apply(i,n.concat(s.call(arguments)));return Object(a)===a?a:i}},C.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,a=r.length;a>i;i++)r[i]===C&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},C.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(s.call(arguments,1)))},C.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:C.now(),o=null,a=e.apply(r,i),r=i=null};return function(){var l=C.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c?(clearTimeout(o),o=null,s=l,a=e.apply(r,i),r=i=null):o||n.trailing===!1||(o=setTimeout(u,c)),a}},C.debounce=function(e,t,n){var r,i,a,o,s,u=function(){var l=C.now()-o;t>l?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))};return function(){a=this,i=arguments,o=C.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return C.partial(t,e)},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=function(e){if(!C.isObject(e))return[];if(x)return x(e);var t=[];for(var n in e)C.has(e,n)&&t.push(n);return t},C.values=function(e){for(var t=C.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},C.pairs=function(e){for(var t=C.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},C.invert=function(e){for(var t={},n=C.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return k(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=u.apply(r,s.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=u.apply(r,s.call(arguments,1));for(var i in e)C.contains(n,i)||(t[i]=e[i]);return t},C.defaults=function(e){return k(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(C.isFunction(o)&&o instanceof o&&C.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var u=0,c=!0;if("[object Array]"==i){if(u=e.length,c=u==t.length)for(;u--&&(c=P(e[u],t[u],n,r)););}else{for(var d in e)if(C.has(e,d)&&(u++,!(c=C.has(t,d)&&P(e[d],t[d],n,r))))break;if(c){for(d in t)if(C.has(t,d)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};C.isEqual=function(e,t){return P(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=w||function(e){return"[object Array]"==l.call(e)},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return c.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.property=function(e){return function(t){return t[e]}},C.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},C.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},C.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=C.invert(N.escape);var I={escape:new RegExp("["+C.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(N.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return N[e][t]})}}),C.result=function(e,t){if(null==e)return void 0;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){k(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),R.call(this,n.apply(C,e))}})};var F=0;C.uniqueId=function(e){var t=++F+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var r;n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,n,r,i,s){return o+=e.slice(a,s).replace(M,function(e){return"\\"+D[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return r(t,C);var u=function(e){return r.call(this,e,C)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},C.chain=function(e){return C(e).chain()};var R=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(e){var t=r[e];C.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return C})}.call(this),/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */
function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e){U=e}function i(e){Y=e}function a(){return function(){process.nextTick(c)}}function o(){return function(){$(c)}}function s(){var e=0,t=new V(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(c,1)}}function c(){for(var e=0;z>e;e+=2){var t=Z[e],n=Z[e+1];t(n),Z[e]=void 0,Z[e+1]=void 0}z=0}function d(){try{var e=require,t=e("vertx");return $=t.runOnLoop||t.runOnContext,o()}catch(n){return l()}}function f(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(t){return te.error=t,te}}function g(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function v(e,t,n){Y(function(e){var r=!1,i=g(n,t,function(n){r||(r=!0,t!==n?w(e,n):E(e,n))},function(t){r||(r=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,C(e,i))},e)}function y(e,t){t._state===J?E(e,t._result):t._state===ee?C(e,t._result):k(t,void 0,function(t){w(e,t)},function(t){C(e,t)})}function b(e,n){if(n.constructor===e.constructor)y(e,n);else{var r=m(n);r===te?C(e,te.error):void 0===r?E(e,n):t(r)?v(e,n,r):E(e,n)}}function w(t,n){t===n?C(t,h()):e(n)?b(t,n):E(t,n)}function x(e){e._onerror&&e._onerror(e._result),S(e)}function E(e,t){e._state===Q&&(e._result=t,e._state=J,0!==e._subscribers.length&&Y(S,e))}function C(e,t){e._state===Q&&(e._state=ee,e._result=t,Y(x,e))}function k(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+J]=n,i[a+ee]=r,0===a&&e._state&&Y(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?O(n,r,i,a):i(a);e._subscribers.length=0}}function _(){this.error=null}function A(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function O(e,n,r,i){var a,o,s,u,l=t(r);if(l){if(a=A(r,i),a===ne?(u=!0,o=a.error,a=null):s=!0,n===a)return void C(n,p())}else a=i,s=!0;n._state!==Q||(l&&s?w(n,a):u?C(n,o):e===J?E(n,a):e===ee&&C(n,a))}function T(e,t){try{t(function(t){w(e,t)},function(t){C(e,t)})}catch(n){C(e,n)}}function j(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):C(n.promise,n._validationError())}function P(e){return new re(this,e).promise}function N(e){function t(e){w(i,e)}function n(e){C(i,e)}var r=this,i=new r(f);if(!q(e))return C(i,new TypeError("You must pass an array to race.")),i;for(var a=e.length,o=0;i._state===Q&&a>o;o++)k(r.resolve(e[o]),void 0,t,n);return i}function I(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return w(n,e),n}function F(e){var t=this,n=new t(f);return C(n,e),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(e){this._id=ue++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(t(e)||L(),this instanceof M||D(),T(this,e))}function R(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=le)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $,U,H,q=B,z=0,Y=({}.toString,function(e,t){Z[z]=e,Z[z+1]=t,z+=2,2===z&&(U?U(c):H())}),W="undefined"!=typeof window?window:void 0,G=W||{},V=G.MutationObserver||G.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3);H=X?a():V?s():K?u():void 0===W&&"function"==typeof require?d():l();var Q=void 0,J=1,ee=2,te=new _,ne=new _;j.prototype._validateInput=function(e){return q(e)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var re=j;j.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===Q&&t>i;i++)e._eachEntry(r[i],i)},j.prototype._eachEntry=function(e,t){var r=this,i=r._instanceConstructor;n(e)?e.constructor===i&&e._state!==Q?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(i.resolve(e),t):(r._remaining--,r._result[t]=e)},j.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===Q&&(r._remaining--,e===ee?C(i,n):r._result[t]=n),0===r._remaining&&E(i,r._result)},j.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){n._settledAt(J,t,e)},function(e){n._settledAt(ee,t,e)})};var ie=P,ae=N,oe=I,se=F,ue=0,le=M;M.all=ie,M.race=ae,M.resolve=oe,M.reject=se,M._setScheduler=r,M._setAsap=i,M._asap=Y,M.prototype={constructor:M,then:function(e,t){var n=this,r=n._state;if(r===J&&!e||r===ee&&!t)return this;var i=new this.constructor(f),a=n._result;if(r){var o=arguments[r-1];Y(function(){O(r,i,o,a)})}else k(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var ce=R,de={Promise:le,polyfill:ce};"function"==typeof define&&define.amd?define(function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),ce()}.call(this),Object.getOwnPropertyDescriptors=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.getOwnPropertyDescriptor(e,n));return t},Function.prototype.extend=function(e){var t,n=this;return e.hasOwnProperty("constructor")||Object.defineProperty(e,"constructor",{value:function(){n.apply(this,arguments)},writable:!0,configurable:!0,enumerable:!1}),t=e.constructor,t.prototype=Object.create(this.prototype,Object.getOwnPropertyDescriptors(e)),t},function(e){function t(e,t){var r=e.find(".dd-option-value[value= '"+t+"']").parents("li").prevAll().length;n(e,r)}function n(e,t){var n=e.data("ddslick"),r=e.find(".dd-selected"),a=r.siblings(".dd-selected-value"),o=(e.find(".dd-options"),r.siblings(".dd-pointer"),e.find(".dd-option").eq(t)),s=o.closest("li"),u=n.settings,l=n.settings.data[t];e.find(".dd-option").removeClass("dd-option-selected"),o.addClass("dd-option-selected"),n.selectedIndex=t,n.selectedItem=s,n.selectedData=l,u.showSelectedHTML?r.html((l.imageSrc?'<img class="dd-selected-image'+("right"==u.imagePosition?" dd-image-right":"")+'" src="'+l.imageSrc+'" />':"")+(l.text?'<label class="dd-selected-text">'+l.text+"</label>":"")+(l.description?'<small class="dd-selected-description dd-desc'+(u.truncateDescription?" dd-selected-description-truncated":"")+'" >'+l.description+"</small>":"")):r.html(l.text),a.val(l.value),n.original.val(l.value),e.data("ddslick",n),i(e),"function"==typeof u.onSelected&&u.onSelected.call(this,n)}function r(t){var n=t.find(".dd-select"),r=n.siblings(".dd-options"),i=n.find(".dd-pointer"),a=r.is(":visible");e(".dd-click-off-close").not(r).slideUp(50),e(".dd-pointer").removeClass("dd-pointer-up"),n.removeClass("dd-open"),a?(r.slideUp("fast"),i.removeClass("dd-pointer-up"),n.removeClass("dd-open")):(n.addClass("dd-open"),r.slideDown("fast"),i.addClass("dd-pointer-up"))}function i(e){e.find(".dd-select").removeClass("dd-open"),e.find(".dd-options").slideUp(50),e.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}e.fn.ddslick=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exists."):a.init.apply(this,arguments)};var a={},o={data:[],keepJSONItemsOnTop:!1,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:!0,imagePosition:"left",showSelectedHTML:!0,clickOffToClose:!0,embedCSS:!0,onSelected:function(){}},s='<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>',u='<ul class="dd-options"></ul>';a.init=function(t){e.extend({},o,t);return this.each(function(){var i=e.extend({},o,t),a=e(this),l=a.data("ddslick");if(!l){var c=[];i.data;a.find("option").each(function(){var t=e(this),n=t.data();c.push({text:e.trim(t.text()),value:t.val(),selected:t.is(":selected"),description:n.description,imageSrc:n.imagesrc})}),i.keepJSONItemsOnTop?e.merge(i.data,c):i.data=e.merge(c,i.data);var d=a,f=e("<div>").attr("id",a.attr("id")+"-dd-placeholder");a.replaceWith(f),a=f,a.addClass("dd-container").append(s).append(u),a.find("input.dd-selected-value").attr("id",e(d).attr("id")).attr("name",e(d).attr("name"));var c=a.find(".dd-select"),h=a.find(".dd-options");null!=i.height&&h.css({height:i.height,overflow:"auto"}),e.each(i.data,function(e,t){t.selected&&(i.defaultSelectedIndex=e),h.append('<li><a class="dd-option">'+(t.value?' <input class="dd-option-value" type="hidden" value="'+t.value+'" />':"")+(t.imageSrc?' <img class="dd-option-image'+("right"==i.imagePosition?" dd-image-right":"")+'" src="'+t.imageSrc+'" />':"")+(t.text?' <label class="dd-option-text">'+t.text+"</label>":"")+(t.description?' <small class="dd-option-description dd-desc">'+t.description+"</small>":"")+"</a></li>")});var p={settings:i,original:d,selectedIndex:-1,selectedItem:null,selectedData:null};if(a.data("ddslick",p),i.selectText.length>0&&null==i.defaultSelectedIndex)a.find(".dd-selected").html(i.selectText);else{var m=null!=i.defaultSelectedIndex&&i.defaultSelectedIndex>=0&&i.defaultSelectedIndex<i.data.length?i.defaultSelectedIndex:0;n(a,m)}a.find(".dd-select").on("click.ddslick",function(){r(a)}),a.find(".dd-option").on("click.ddslick",function(){n(a,e(this).closest("li").index())}),i.clickOffToClose&&(h.addClass("dd-click-off-close"),a.on("click.ddslick",function(e){e.stopPropagation()}),e("body").on("click",function(){e(".dd-open").removeClass("dd-open"),e(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")}))}})},a.select=function(r){return this.each(function(){void 0!==r.index&&n(e(this),r.index),r.id&&t(e(this),r.id)})},a.open=function(){return this.each(function(){var t=e(this),n=t.data("ddslick");n&&r(t)})},a.close=function(){return this.each(function(){var t=e(this),n=t.data("ddslick");n&&i(t)})},a.destroy=function(){return this.each(function(){var t=e(this),n=t.data("ddslick");if(n){var r=n.original;t.removeData("ddslick").unbind(".ddslick").replaceWith(r)}})}}(jQuery),function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i,a=r.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp keyup",l="",c="vertical"===r.vars.direction,d=r.vars.reverse,f=r.vars.itemWidth>0,h="fade"===r.vars.animation,p=""!==r.vars.asNavFor,m={},g=!0;e.data(t,"flexslider",r),m={init:function(){r.animating=!1,r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10),isNaN(r.currentSlide)&&(r.currentSlide=0),r.animatingTo=r.currentSlide,r.atEnd=0===r.currentSlide||r.currentSlide===r.last,r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" ")),r.slides=e(r.vars.selector,r),r.container=e(r.containerSelector,r),r.count=r.slides.length,r.syncExists=e(r.vars.sync).length>0,"slide"===r.vars.animation&&(r.vars.animation="swing"),r.prop=c?"top":"marginLeft",r.args={},r.manualPause=!1,r.stopped=!1,r.started=!1,r.startTimeout=null,r.transitions=!r.vars.video&&!h&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return r.pfx=t[n].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",!0;return!1}(),r.ensureAnimationEnd="",""!==r.vars.controlsContainer&&(r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer)),""!==r.vars.manualControls&&(r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls)),""!==r.vars.customDirectionNav&&(r.customDirectionNav=2===e(r.vars.customDirectionNav).length&&e(r.vars.customDirectionNav)),r.vars.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides)),r.doMath(),r.setup("init"),r.vars.controlNav&&m.controlNav.setup(),r.vars.directionNav&&m.directionNav.setup(),r.vars.keyboard&&(1===e(r.containerSelector).length||r.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(39===t||37===t)){var n=39===t?r.getTarget("next"):37===t?r.getTarget("prev"):!1;r.flexAnimate(n,r.vars.pauseOnAction)}}),r.vars.mousewheel&&r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var a=0>t?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(a,r.vars.pauseOnAction)}),r.vars.pausePlay&&m.pausePlay.setup(),r.vars.slideshow&&r.vars.pauseInvisible&&m.pauseInvisible.init(),r.vars.slideshow&&(r.vars.pauseOnHover&&r.hover(function(){r.manualPlay||r.manualPause||r.pause()},function(){r.manualPause||r.manualPlay||r.stopped||r.play()}),r.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play())),p&&m.asNav.setup(),s&&r.vars.touch&&m.touch(),(!h||h&&r.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",m.resize),r.find("img").attr("draggable","false"),setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(a+"active-slide").eq(r.currentItem).addClass(a+"active-slide"),o?(t._slider=r,r.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();e(r.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})})):r.slides.on(u,function(t){t.preventDefault();var n=e(this),i=n.index(),o=n.offset().left-e(r).scrollLeft();0>=o&&n.hasClass(a+"active-slide")?r.flexAnimate(r.getTarget("prev"),!0):e(r.vars.asNavFor).data("flexslider").animating||n.hasClass(a+"active-slide")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var t,n,i="thumbnails"===r.vars.controlNav?"control-thumbs":"control-paging",o=1;if(r.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+i+'"></ol>'),r.pagingCount>1)for(var s=0;s<r.pagingCount;s++){if(n=r.slides.eq(s),t="thumbnails"===r.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+o+"</a>","thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var c=n.attr("data-thumbcaption");""!==c&&void 0!==c&&(t+='<span class="'+a+'caption">'+c+"</span>")}r.controlNavScaffold.append("<li>"+t+"</li>"),o++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),r.controlNavScaffold.delegate("a, img",u,function(t){if(t.preventDefault(),""===l||l===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(a+"active")||(r.direction=i>r.currentSlide?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===l&&(l=t.type),m.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls,m.controlNav.active(),r.controlNav.bind(u,function(t){if(t.preventDefault(),""===l||l===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(a+"active")||(i>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===l&&(l=t.type),m.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===r.vars.controlNav?"img":"a";r.controlNav=e("."+a+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(a+"active").eq(r.animatingTo).addClass(a+"active")},update:function(t,n){r.pagingCount>1&&"add"===t?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):m.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li class="'+a+'nav-prev"><a class="'+a+'prev" href="#">'+r.vars.prevText+'</a></li><li class="'+a+'nav-next"><a class="'+a+'next" href="#">'+r.vars.nextText+"</a></li></ul>");r.customDirectionNav?r.directionNav=r.customDirectionNav:r.controlsContainer?(e(r.controlsContainer).append(t),r.directionNav=e("."+a+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=e("."+a+"direction-nav li a",r)),m.directionNav.update(),r.directionNav.bind(u,function(t){t.preventDefault();var n;(""===l||l===t.type)&&(n=e(this).hasClass(a+"next")?r.getTarget("next"):r.getTarget("prev"),r.flexAnimate(n,r.vars.pauseOnAction)),""===l&&(l=t.type),m.setToClearWatchedEvent()})},update:function(){var e=a+"disabled";1===r.pagingCount?r.directionNav.addClass(e).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(e).removeAttr("tabindex"):0===r.animatingTo?r.directionNav.removeClass(e).filter("."+a+"prev").addClass(e).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+a+"next").addClass(e).attr("tabindex","-1"):r.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+a+'pauseplay"><a></a></div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=e("."+a+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=e("."+a+"pauseplay a",r)),m.pausePlay.update(r.vars.slideshow?a+"pause":a+"play"),r.pausePlay.bind(u,function(t){t.preventDefault(),(""===l||l===t.type)&&(e(this).hasClass(a+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())),""===l&&(l=t.type),m.setToClearWatchedEvent()})},update:function(e){"play"===e?r.pausePlay.removeClass(a+"pause").addClass(a+"play").html(r.vars.playText):r.pausePlay.removeClass(a+"play").addClass(a+"pause").html(r.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),r.animating?e.preventDefault():(r.pause(),t._gesture.addPointer(e.pointerId),E=0,l=c?r.h:r.w,m=Number(new Date),u=f&&d&&r.animatingTo===r.last?0:f&&d?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:d?(r.last-r.currentSlide+r.cloneOffset)*l:(r.currentSlide+r.cloneOffset)*l)}function n(e){e.stopPropagation();var n=e.target._slider;if(n){var r=-e.translationX,i=-e.translationY;return E+=c?i:r,p=E,b=c?Math.abs(E)<Math.abs(-r):Math.abs(E)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!b||Number(new Date)-m>500)&&(e.preventDefault(),!h&&n.transitions&&(n.vars.animationLoop||(p=E/(0===n.currentSlide&&0>E||n.currentSlide===n.last&&E>0?Math.abs(E)/l+2:1)),n.setProps(u+p,"setTouch"))))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==p){var n=d?-p:p,r=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(r)&&(Number(new Date)-m<550&&Math.abs(n)>50||Math.abs(n)>l/2)?t.flexAnimate(r,t.vars.pauseOnAction):h||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}a=null,s=null,p=null,u=null,E=0}}var a,s,u,l,p,m,g,v,y,b=!1,w=0,x=0,E=0;o?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=r,t.addEventListener("MSGestureChange",n,!1),t.addEventListener("MSGestureEnd",i,!1)):(g=function(e){r.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(r.pause(),l=c?r.h:r.w,m=Number(new Date),w=e.touches[0].pageX,x=e.touches[0].pageY,u=f&&d&&r.animatingTo===r.last?0:f&&d?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:f&&r.currentSlide===r.last?r.limit:f?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:d?(r.last-r.currentSlide+r.cloneOffset)*l:(r.currentSlide+r.cloneOffset)*l,a=c?x:w,s=c?w:x,t.addEventListener("touchmove",v,!1),t.addEventListener("touchend",y,!1))},v=function(e){w=e.touches[0].pageX,x=e.touches[0].pageY,p=c?a-x:a-w,b=c?Math.abs(p)<Math.abs(w-s):Math.abs(p)<Math.abs(x-s);var t=500;(!b||Number(new Date)-m>t)&&(e.preventDefault(),!h&&r.transitions&&(r.vars.animationLoop||(p/=0===r.currentSlide&&0>p||r.currentSlide===r.last&&p>0?Math.abs(p)/l+2:1),r.setProps(u+p,"setTouch")))},y=function(e){if(t.removeEventListener("touchmove",v,!1),r.animatingTo===r.currentSlide&&!b&&null!==p){var n=d?-p:p,i=n>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(i)&&(Number(new Date)-m<550&&Math.abs(n)>50||Math.abs(n)>l/2)?r.flexAnimate(i,r.vars.pauseOnAction):h||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}t.removeEventListener("touchend",y,!1),a=null,s=null,p=null,u=null},t.addEventListener("touchstart",g,!1))},resize:function(){!r.animating&&r.is(":visible")&&(f||r.doMath(),h?m.smoothHeight():f?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):c?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(r.vars.smoothHeight&&m.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(e){if(!c||h){var t=h?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=m.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){m.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()})}},isHidden:function(){var e=m.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(i),i=setTimeout(function(){l=""},3e3)}},r.flexAnimate=function(t,n,i,o,u){if(r.vars.animationLoop||t===r.currentSlide||(r.direction=t>r.currentSlide?"next":"prev"),p&&1===r.pagingCount&&(r.direction=r.currentItem<t?"next":"prev"),!r.animating&&(r.canAdvance(t,u)||i)&&r.is(":visible")){if(p&&o){var l=e(r.vars.asNavFor).data("flexslider");if(r.atEnd=0===t||t===r.count-1,l.flexAnimate(t,!0,!1,!0,u),r.direction=r.currentItem<t?"next":"prev",l.direction=r.direction,Math.ceil((t+1)/r.visible)-1===r.currentSlide||0===t)return r.currentItem=t,r.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),!1;r.currentItem=t,r.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),t=Math.floor(t/r.visible)}if(r.animating=!0,r.animatingTo=t,n&&r.pause(),r.vars.before(r),r.syncExists&&!u&&m.sync("animate"),r.vars.controlNav&&m.controlNav.active(),f||r.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),r.atEnd=0===t||t===r.last,r.vars.directionNav&&m.directionNav.update(),t===r.last&&(r.vars.end(r),r.vars.animationLoop||r.pause()),h)s?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.wrapup(b)):(r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing),r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup));else{var g,v,y,b=c?r.slides.filter(":first").height():r.computedW;f?(g=r.vars.itemMargin,y=(r.itemW+g)*r.move*r.animatingTo,v=y>r.limit&&1!==r.visible?r.limit:y):v=0===r.currentSlide&&t===r.count-1&&r.vars.animationLoop&&"next"!==r.direction?d?(r.count+r.cloneOffset)*b:0:r.currentSlide===r.last&&0===t&&r.vars.animationLoop&&"prev"!==r.direction?d?0:(r.count+1)*b:d?(r.count-1-t+r.cloneOffset)*b:(t+r.cloneOffset)*b,r.setProps(v,"",r.vars.animationSpeed),r.transitions?(r.vars.animationLoop&&r.atEnd||(r.animating=!1,r.currentSlide=r.animatingTo),r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(r.ensureAnimationEnd),r.wrapup(b)}),clearTimeout(r.ensureAnimationEnd),r.ensureAnimationEnd=setTimeout(function(){r.wrapup(b)},r.vars.animationSpeed+100)):r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(b)})}r.vars.smoothHeight&&m.smoothHeight(r.vars.animationSpeed)}},r.wrapup=function(e){h||f||(0===r.currentSlide&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&r.vars.animationLoop&&r.setProps(e,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,r.vars.after(r)},r.animateSlides=function(){!r.animating&&g&&r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.animatedSlides=null,r.playing=!1,r.vars.pausePlay&&m.pausePlay.update("play"),r.syncExists&&m.sync("pause")},r.play=function(){r.playing&&clearInterval(r.animatedSlides),r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed),r.started=r.playing=!0,r.vars.pausePlay&&m.pausePlay.update("pause"),r.syncExists&&m.sync("play")},r.stop=function(){r.pause(),r.stopped=!0},r.canAdvance=function(e,t){var n=p?r.pagingCount-1:r.last;return t?!0:p&&r.currentItem===r.count-1&&0===e&&"prev"===r.direction?!0:p&&0===r.currentItem&&e===r.pagingCount-1&&"next"!==r.direction?!1:e!==r.currentSlide||p?r.vars.animationLoop?!0:r.atEnd&&0===r.currentSlide&&e===n&&"next"!==r.direction?!1:r.atEnd&&r.currentSlide===n&&0===e&&"next"===r.direction?!1:!0:!1},r.getTarget=function(e){return r.direction=e,"next"===e?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1},r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(f)return"setTouch"===t?e:d&&r.animatingTo===r.last?0:d?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(t){case"setTotal":return d?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:r.count*e;case"jumpStart":return d?r.count*e:e;default:return e}}();return-1*i+"px"}();r.transitions&&(i=c?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n),r.container.css("transition-duration",n)),r.args[r.prop]=i,(r.transitions||void 0===n)&&r.container.css(r.args),r.container.css("transform",i)},r.setup=function(t){if(h)r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(s?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):0==r.vars.fadeFirstSlide?r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).css({opacity:1}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)),r.vars.smoothHeight&&m.smoothHeight();else{var n,i;"init"===t&&(r.viewport=e('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,d&&(i=e.makeArray(r.slides).reverse(),r.slides=e(i),r.container.empty().append(r.slides))),r.vars.animationLoop&&!f&&(r.cloneCount=2,r.cloneOffset=1,"init"!==t&&r.container.find(".clone").remove(),r.container.append(m.uniqueID(r.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(m.uniqueID(r.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),r.newSlides=e(r.vars.selector,r),n=d?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,c&&!f?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(n*r.h,"init")},"init"===t?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout(function(){r.doMath(),r.newSlides.css({width:r.computedW,"float":"left",display:"block"}),r.vars.smoothHeight&&m.smoothHeight()},"init"===t?100:0))}f||r.slides.removeClass(a+"active-slide").eq(r.currentSlide).addClass(a+"active-slide"),r.vars.init(r)},r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=void 0===r.viewport?r.width():r.viewport.width(),r.h=e.height(),r.boxPadding=e.outerWidth()-e.width(),f?(r.itemT=r.vars.itemWidth+t,r.minW=n?n*r.itemT:r.w,r.maxW=i?i*r.itemT-t:r.w,r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth,r.visible=Math.floor(r.w/r.itemW),r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t):(r.itemW=r.w,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding},r.update=function(e,t){r.doMath(),f||(e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&0!==e&&(r.currentSlide-=1),r.animatingTo=r.currentSlide),r.vars.controlNav&&!r.manualControls&&("add"===t&&!f||r.pagingCount>r.controlNav.length?m.controlNav.update("add"):("remove"===t&&!f||r.pagingCount<r.controlNav.length)&&(f&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),m.controlNav.update("remove",r.last))),r.vars.directionNav&&m.directionNav.update()},r.addSlide=function(t,n){var i=e(t);r.count+=1,r.last=r.count-1,c&&d?void 0!==n?r.slides.eq(r.count-n).after(i):r.container.prepend(i):void 0!==n?r.slides.eq(n).before(i):r.container.append(i),r.update(n,"add"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.added(r)},r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1,r.last=r.count-1,isNaN(t)?e(t,r.slides).remove():c&&d?r.slides.eq(r.last).remove():r.slides.eq(t).remove(),r.doMath(),r.update(n,"remove"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.removed(r)},m.init()},e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);1===i.length&&t.allowOneSlide===!0||0===i.length?(i.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t);
});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),/*!
 * jScrollPane - v2.0.22 - 2015-04-25
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
// Copyright (c) 2014 Kelvin Luck
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function n(t,n){function r(n){var a,s,l,c,d,p,m=!1,g=!1;if(B=n,void 0===$)d=t.scrollTop(),p=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),U=t.innerWidth()+ve,H=t.innerHeight(),t.width(U),$=e('<div class="jspPane" />').css("padding",ge).append(t.children()),q=e('<div class="jspContainer" />').css({width:U+"px",height:H+"px"}).append($).appendTo(t);else{if(t.css("width",""),m=B.stickToBottom&&_(),g=B.stickToRight&&A(),c=t.innerWidth()+ve!=U||t.outerHeight()!=H,c&&(U=t.innerWidth()+ve,H=t.innerHeight(),q.css({width:U+"px",height:H+"px"})),!c&&ye==z&&$.outerHeight()==Y)return void t.width(U);ye=z,$.css("width",""),t.width(U),q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}$.css("overflow","auto"),z=n.contentWidth?n.contentWidth:$[0].scrollWidth,Y=$[0].scrollHeight,$.css("overflow",""),W=z/U,G=Y/H,V=G>1,X=W>1,X||V?(t.addClass("jspScrollable"),a=B.maintainPosition&&(Q||te),a&&(s=k(),l=S()),i(),o(),u(),a&&(E(g?z-U:s,!1),x(m?Y-H:l,!1)),P(),O(),M(),B.enableKeyboardNavigation&&I(),B.clickOnTrack&&f(),L(),B.hijackInternalLinks&&D()):(t.removeClass("jspScrollable"),$.css({top:0,left:0,width:q.width()-ve}),T(),N(),F(),h()),B.autoReinitialise&&!me?me=setInterval(function(){r(B)},B.autoReinitialiseDelay):!B.autoReinitialise&&me&&clearInterval(me),d&&t.scrollTop(0)&&x(d,!1),p&&t.scrollLeft(0)&&E(p,!1),t.trigger("jsp-initialised",[X||V])}function i(){V&&(q.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ne=q.find(">.jspVerticalBar"),re=ne.find(">.jspTrack"),K=re.find(">.jspDrag"),B.showArrows&&(se=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",c(0,-1)).bind("click.jsp",j),ue=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",c(0,1)).bind("click.jsp",j),B.arrowScrollOnHover&&(se.bind("mouseover.jsp",c(0,-1,se)),ue.bind("mouseover.jsp",c(0,1,ue))),l(re,B.verticalArrowPositions,se,ue)),ae=H,q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ae-=e(this).outerHeight()}),K.hover(function(){K.addClass("jspHover")},function(){K.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",j),K.addClass("jspActive");var n=t.pageY-K.position().top;return e("html").bind("mousemove.jsp",function(e){m(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),a())}function a(){re.height(ae+"px"),Q=0,ie=B.verticalGutter+re.outerWidth(),$.width(U-ie-ve);try{0===ne.position().left&&$.css("margin-left",ie+"px")}catch(e){}}function o(){X&&(q.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),le=q.find(">.jspHorizontalBar"),ce=le.find(">.jspTrack"),J=ce.find(">.jspDrag"),B.showArrows&&(he=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",c(-1,0)).bind("click.jsp",j),pe=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",c(1,0)).bind("click.jsp",j),B.arrowScrollOnHover&&(he.bind("mouseover.jsp",c(-1,0,he)),pe.bind("mouseover.jsp",c(1,0,pe))),l(ce,B.horizontalArrowPositions,he,pe)),J.hover(function(){J.addClass("jspHover")},function(){J.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",j),J.addClass("jspActive");var n=t.pageX-J.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),de=q.innerWidth(),s())}function s(){q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){de-=e(this).outerWidth()}),ce.width(de+"px"),te=0}function u(){if(X&&V){var t=ce.outerHeight(),n=re.outerWidth();ae-=t,e(le).find(">.jspCap:visible,>.jspArrow").each(function(){de+=e(this).outerWidth()}),de-=n,H-=n,U-=t,ce.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),a(),s()}X&&$.width(q.outerWidth()-ve+"px"),Y=$.outerHeight(),G=Y/H,X&&(fe=Math.ceil(1/W*de),fe>B.horizontalDragMaxWidth?fe=B.horizontalDragMaxWidth:fe<B.horizontalDragMinWidth&&(fe=B.horizontalDragMinWidth),J.width(fe+"px"),ee=de-fe,y(te)),V&&(oe=Math.ceil(1/G*ae),oe>B.verticalDragMaxHeight?oe=B.verticalDragMaxHeight:oe<B.verticalDragMinHeight&&(oe=B.verticalDragMinHeight),K.height(oe+"px"),Z=ae-oe,g(Q))}function l(e,t,n,r){var i,a="before",o="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==a?o=t:t==o&&(a=t,i=n,n=r,r=i),e[a](n)[o](r)}function c(e,t,n){return function(){return d(e,t,this,n),this.blur(),!1}}function d(t,n,r,i){r=e(r).addClass("jspActive");var a,o,s=!0,u=function(){0!==t&&be.scrollByX(t*B.arrowButtonSpeed),0!==n&&be.scrollByY(n*B.arrowButtonSpeed),o=setTimeout(u,s?B.initialDelay:B.arrowRepeatFreq),s=!1};u(),a=i?"mouseout.jsp":"mouseup.jsp",i=i||e("html"),i.bind(a,function(){r.removeClass("jspActive"),o&&clearTimeout(o),o=null,i.unbind(a)})}function f(){h(),V&&re.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,r=e(this),i=r.offset(),a=t.pageY-i.top-Q,o=!0,s=function(){var e=r.offset(),i=t.pageY-e.top-oe/2,l=H*B.scrollPagePercent,c=Z*l/(Y-H);if(0>a)Q-c>i?be.scrollByY(-l):m(i);else{if(!(a>0))return void u();i>Q+c?be.scrollByY(l):m(i)}n=setTimeout(s,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},u=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",u)};return s(),e(document).bind("mouseup.jsp",u),!1}}),X&&ce.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,r=e(this),i=r.offset(),a=t.pageX-i.left-te,o=!0,s=function(){var e=r.offset(),i=t.pageX-e.left-fe/2,l=U*B.scrollPagePercent,c=ee*l/(z-U);if(0>a)te-c>i?be.scrollByX(-l):v(i);else{if(!(a>0))return void u();i>te+c?be.scrollByX(l):v(i)}n=setTimeout(s,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},u=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",u)};return s(),e(document).bind("mouseup.jsp",u),!1}})}function h(){ce&&ce.unbind("mousedown.jsp"),re&&re.unbind("mousedown.jsp")}function p(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),K&&K.removeClass("jspActive"),J&&J.removeClass("jspActive")}function m(e,t){V&&(0>e?e=0:e>Z&&(e=Z),void 0===t&&(t=B.animateScroll),t?be.animate(K,"top",e,g):(K.css("top",e),g(e)))}function g(e){void 0===e&&(e=K.position().top),q.scrollTop(0),Q=e||0;var n=0===Q,r=Q==Z,i=e/Z,a=-i*(Y-H);(we!=n||Ee!=r)&&(we=n,Ee=r,t.trigger("jsp-arrow-change",[we,Ee,xe,Ce])),b(n,r),$.css("top",a),t.trigger("jsp-scroll-y",[-a,n,r]).trigger("scroll")}function v(e,t){X&&(0>e?e=0:e>ee&&(e=ee),void 0===t&&(t=B.animateScroll),t?be.animate(J,"left",e,y):(J.css("left",e),y(e)))}function y(e){void 0===e&&(e=J.position().left),q.scrollTop(0),te=e||0;var n=0===te,r=te==ee,i=e/ee,a=-i*(z-U);(xe!=n||Ce!=r)&&(xe=n,Ce=r,t.trigger("jsp-arrow-change",[we,Ee,xe,Ce])),w(n,r),$.css("left",a),t.trigger("jsp-scroll-x",[-a,n,r]).trigger("scroll")}function b(e,t){B.showArrows&&(se[e?"addClass":"removeClass"]("jspDisabled"),ue[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){B.showArrows&&(he[e?"addClass":"removeClass"]("jspDisabled"),pe[t?"addClass":"removeClass"]("jspDisabled"))}function x(e,t){var n=e/(Y-H);m(n*Z,t)}function E(e,t){var n=e/(z-U);v(n*ee,t)}function C(t,n,r){var i,a,o,s,u,l,c,d,f,h=0,p=0;try{i=e(t)}catch(m){return}for(a=i.outerHeight(),o=i.outerWidth(),q.scrollTop(0),q.scrollLeft(0);!i.is(".jspPane");)if(h+=i.position().top,p+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;s=S(),l=s+H,s>h||n?d=h-B.horizontalGutter:h+a>l&&(d=h-H+a+B.horizontalGutter),isNaN(d)||x(d,r),u=k(),c=u+U,u>p||n?f=p-B.horizontalGutter:p+o>c&&(f=p-U+o+B.horizontalGutter),isNaN(f)||E(f,r)}function k(){return-$.position().left}function S(){return-$.position().top}function _(){var e=Y-H;return e>20&&e-S()<10}function A(){var e=z-U;return e>20&&e-k()<10}function O(){q.unbind(Se).bind(Se,function(e,t,n,r){te||(te=0),Q||(Q=0);var i=te,a=Q,o=e.deltaFactor||B.mouseWheelSpeed;return be.scrollBy(n*o,-r*o,!1),i==te&&a==Q})}function T(){q.unbind(Se)}function j(){return!1}function P(){$.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){C(e.target,!1)})}function N(){$.find(":input,a").unbind("focus.jsp")}function I(){function n(){var e=te,t=Q;switch(r){case 40:be.scrollByY(B.keyboardSpeed,!1);break;case 38:be.scrollByY(-B.keyboardSpeed,!1);break;case 34:case 32:be.scrollByY(H*B.scrollPagePercent,!1);break;case 33:be.scrollByY(-H*B.scrollPagePercent,!1);break;case 39:be.scrollByX(B.keyboardSpeed,!1);break;case 37:be.scrollByX(-B.keyboardSpeed,!1)}return i=e!=te||t!=Q}var r,i,a=[];X&&a.push(le[0]),V&&a.push(ne[0]),$.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||a.length&&e(t.target).closest(a).length){var o=te,s=Q;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:r=t.keyCode,n();break;case 35:x(Y-H),r=null;break;case 36:x(0),r=null}return i=t.keyCode==r&&o!=te||s!=Q,!i}}).bind("keypress.jsp",function(t){return t.keyCode==r&&n(),t.target===this||a.length&&e(t.target).closest(a).length?!i:void 0}),B.hideFocus?(t.css("outline","none"),"hideFocus"in q[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in q[0]&&t.attr("hideFocus",!1))}function F(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),$.unbind(".jsp")}function L(){if(location.hash&&location.hash.length>1){var t,n,r=escape(location.hash.substr(1));try{t=e("#"+r+', a[name="'+r+'"]')}catch(i){return}t.length&&$.find(r)&&(0===q.scrollTop()?n=setInterval(function(){q.scrollTop()>0&&(C(t,!0),e(document).scrollTop(q.position().top),clearInterval(n))},50):(C(t,!0),e(document).scrollTop(q.position().top)))}}function D(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(t){var n,r,i,a,o,s,u=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),u===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{r=e("#"+n+', a[name="'+n+'"]')}catch(c){return}r.length&&(i=r.closest(".jspScrollable"),a=i.data("jsp"),a.scrollToElement(r,!0),i[0].scrollIntoView&&(o=e(window).scrollTop(),s=r.offset().top,(o>s||s>o+e(window).height())&&i[0].scrollIntoView()),t.preventDefault())}}))}function M(){var e,t,n,r,i,a=!1;q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var s=o.originalEvent.touches[0];e=k(),t=S(),n=s.pageX,r=s.pageY,i=!1,a=!0}).bind("touchmove.jsp",function(o){if(a){var s=o.originalEvent.touches[0],u=te,l=Q;return be.scrollTo(e+n-s.pageX,t+r-s.pageY),i=i||Math.abs(n-s.pageX)>5||Math.abs(r-s.pageY)>5,u==te&&l==Q}}).bind("touchend.jsp",function(e){a=!1}).bind("click.jsp-touchclick",function(e){return i?(i=!1,!1):void 0})}function R(){var e=S(),n=k();t.removeClass("jspScrollable").unbind(".jsp"),$.unbind(".jsp"),t.replaceWith(ke.append($.children())),ke.scrollTop(e),ke.scrollLeft(n),me&&clearInterval(me)}var B,$,U,H,q,z,Y,W,G,V,X,K,Z,Q,J,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,fe,he,pe,me,ge,ve,ye,be=this,we=!0,xe=!0,Ee=!1,Ce=!1,ke=t.clone(!1,!1).empty(),Se=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(ge=0,ve=0):(ge=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ve=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(be,{reinitialise:function(t){t=e.extend({},B,t),r(t)},scrollToElement:function(e,t,n){C(e,t,n)},scrollTo:function(e,t,n){E(e,n),x(t,n)},scrollToX:function(e,t){E(e,t)},scrollToY:function(e,t){x(e,t)},scrollToPercentX:function(e,t){E(e*(z-U),t)},scrollToPercentY:function(e,t){x(e*(Y-H),t)},scrollBy:function(e,t,n){be.scrollByX(e,n),be.scrollByY(t,n)},scrollByX:function(e,t){var n=k()+Math[0>e?"floor":"ceil"](e),r=n/(z-U);v(r*ee,t)},scrollByY:function(e,t){var n=S()+Math[0>e?"floor":"ceil"](e),r=n/(Y-H);m(r*Z,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){m(e,t)},animate:function(e,t,n,r){var i={};i[t]=n,e.animate(i,{duration:B.animateDuration,easing:B.animateEase,queue:!1,step:r})},getContentPositionX:function(){return k()},getContentPositionY:function(){return S()},getContentWidth:function(){return z},getContentHeight:function(){return Y},getPercentScrolledX:function(){return k()/(z-U)},getPercentScrolledY:function(){return S()/(Y-H)},getIsScrollableH:function(){return X},getIsScrollableV:function(){return V},getContentPane:function(){return $},scrollToBottom:function(e){m(Z,e)},hijackInternalLinks:e.noop,destroy:function(){R()}}),r(n)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var r=e(this),i=r.data("jsp");i?i.reinitialise(t):(e("script",r).filter('[type="text/javascript"],:not([type])').remove(),i=new n(r,t),r.data("jsp",i))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),/*!
 * jQuery Mousewheel 3.1.12
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=u.call(arguments,1),l=0,d=0,f=0,h=0,p=0,m=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(f=-1*o.detail),"wheelDelta"in o&&(f=o.wheelDelta),"wheelDeltaY"in o&&(f=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*f,f=0),l=0===f?d:f,"deltaY"in o&&(f=-1*o.deltaY,l=f),"deltaX"in o&&(d=o.deltaX,0===f&&(l=-1*d)),0!==f||0!==d){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,f*=g,d*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,f*=v,d*=v}if(h=Math.max(Math.abs(f),Math.abs(d)),(!a||a>h)&&(a=h,r(o,h)&&(a/=40)),r(o,h)&&(l/=40,d/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/a),d=Math[d>=1?"floor":"ceil"](d/a),f=Math[f>=1?"floor":"ceil"](f/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=f,t.deltaFactor=a,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,d,f),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function r(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(var l=o.length;l;)e.event.fixHooks[o[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){function t(){this===i.elem&&(i.pos=[-260,-260],i.elem=!1,a=3)}var n,r,i={pos:[-260,-260]},a=3,o=document,s=o.documentElement,u=o.body;e.event.special.mwheelIntent={setup:function(){var n=e(this).bind("mousewheel",e.event.special.mwheelIntent.handler);return this!==o&&this!==s&&this!==u&&n.bind("mouseleave",t),n=null,!0},teardown:function(){return e(this).unbind("mousewheel",e.event.special.mwheelIntent.handler).unbind("mouseleave",t),!0},handler:function(t,o){var s=[t.clientX,t.clientY];return this===i.elem||Math.abs(i.pos[0]-s[0])>a||Math.abs(i.pos[1]-s[1])>a?(i.elem=this,i.pos=s,a=250,clearTimeout(r),r=setTimeout(function(){a=10},200),clearTimeout(n),n=setTimeout(function(){a=3},1500),t=e.extend({},t,{type:"mwheelIntent"}),(e.event.dispatch||e.event.handle).apply(this,arguments)):void 0}},e.fn.extend({mwheelIntent:function(e){return e?this.bind("mwheelIntent",e):this.trigger("mwheelIntent")},unmwheelIntent:function(e){return this.unbind("mwheelIntent",e)}}),e(function(){u=o.body,e(o).bind("mwheelIntent.mwheelIntentDefault",e.noop)})}(jQuery),/*!
 * @preserve
 *
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: http://jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 *
 * Debounce function from http://davidwalsh.name/javascript-debounce-function
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}function n(e){var t=++l;return String(null==e?"rmjs-":e)+t}function r(e){var t=e.clone().css({height:"auto",width:e.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(e),n=t.outerHeight(),r=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),i=e.data("defaultHeight");t.remove();var a=r||e.data("collapsedHeight")||i;e.data({expandedHeight:n,maxHeight:r,collapsedHeight:a}).css({maxHeight:"none"})}function i(e){if(!u[e.selector]){var t=" ";e.embedCSS&&""!==e.blockCSS&&(t+=e.selector+" + [data-readmore-toggle], "+e.selector+"[data-readmore]{"+e.blockCSS+"}"),t+=e.selector+"[data-readmore]{transition: height "+e.speed+"ms;overflow: hidden;}",function(e,t){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}(document,t),u[e.selector]=!0}}function a(t,n){this.element=t,this.options=e.extend({},s,n),i(this.options),this._defaults=s,this._name=o,this.init(),window.addEventListener?(window.addEventListener("load",c),window.addEventListener("resize",c)):(window.attachEvent("load",c),window.attachEvent("resize",c))}var o="readmore",s={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},u={},l=0,c=t(function(){e("[data-readmore]").each(function(){var t=e(this),n="true"===t.attr("aria-expanded");r(t),t.css({height:t.data(n?"expandedHeight":"collapsedHeight")})})},100);a.prototype={init:function(){var t=e(this.element);t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),r(t);var i=t.data("collapsedHeight"),a=t.data("heightMargin");if(t.outerHeight(!0)<=i+a)return!0;var o=t.attr("id")||n(),s=this.options.startOpen?this.options.lessLink:this.options.moreLink;t.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:o}),t.after(e(s).on("click",function(e){return function(n){e.toggle(this,t[0],n)}}(this)).attr({"data-readmore-toggle":"","aria-controls":o})),this.options.startOpen||t.css({height:i})},toggle:function(t,n,r){r&&r.preventDefault(),t||(t=e('[aria-controls="'+_this.element.id+'"]')[0]),n||(n=_this.element);var i=e(n),a="",o="",s=!1,u=i.data("collapsedHeight");i.height()<=u?(a=i.data("expandedHeight")+"px",o="lessLink",s=!0):(a=u,o="moreLink"),this.options.beforeToggle(t,i,!s),i.css({height:a}),i.on("transitionend",function(n){return function(){n.options.afterToggle(t,i,s),e(this).attr({"aria-expanded":s}).off("transitionend")}}(this)),e(t).replaceWith(e(this.options[o]).on("click",function(e){return function(t){e.toggle(this,n,t)}}(this)).attr({"data-readmore-toggle":"","aria-controls":i.attr("id")}))},destroy:function(){e(this.element).each(function(){var t=e(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),t.removeData()})}},e.fn.readmore=function(t){var n=arguments,r=this.selector;return t=t||{},"object"==typeof t?this.each(function(){if(e.data(this,"plugin_"+o)){var n=e.data(this,"plugin_"+o);n.destroy.apply(n)}t.selector=r,e.data(this,"plugin_"+o,new a(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var r=e.data(this,"plugin_"+o);r instanceof a&&"function"==typeof r[t]&&r[t].apply(r,Array.prototype.slice.call(n,1))}):void 0}}),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function n(e){if(E&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,n,r,i,a=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",o=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",s=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(a=a.split(", "),o=o.split(", "),s=s.split(", "),i=0,n=a.length,t=Number.NEGATIVE_INFINITY;n>i;i++)r=parseFloat(a[i])*parseInt(s[i],10)+parseFloat(o[i]),r>t&&(t=r);return r}function r(){if(t(document.body).height()<=t(window).height())return 0;var e,n,r=document.createElement("div"),i=document.createElement("div");return r.style.visibility="hidden",r.style.width="100px",document.body.appendChild(r),e=r.offsetWidth,r.style.overflow="scroll",i.style.width="100%",r.appendChild(i),n=i.offsetWidth,r.parentNode.removeChild(r),e-n}function i(){if(!C){var e,n,i=t("html"),a=c("is-locked");i.hasClass(a)||(n=t(document.body),e=parseInt(n.css("padding-right"),10)+r(),n.css("padding-right",e+"px"),i.addClass(a))}}function a(){if(!C){var e,n,i=t("html"),a=c("is-locked");i.hasClass(a)&&(n=t(document.body),e=parseInt(n.css("padding-right"),10)-r(),n.css("padding-right",e+"px"),i.removeClass(a))}}function o(e,t,n,r){var i=c("is",t),a=[c("is",w.CLOSING),c("is",w.OPENING),c("is",w.CLOSED),c("is",w.OPENED)].join(" ");e.$bg.removeClass(a).addClass(i),e.$overlay.removeClass(a).addClass(i),e.$wrapper.removeClass(a).addClass(i),e.$modal.removeClass(a).addClass(i),e.state=t,!n&&e.$modal.trigger({type:t,reason:r},[{reason:r}])}function s(e,r,i){var a=0,o=function(e){e.target===this&&a++},s=function(e){e.target===this&&0===--a&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){i[t].off(v+" "+y)}),r())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){i[t].on(v,o).on(y,s)}),e(),0===n(i.$bg)&&0===n(i.$overlay)&&0===n(i.$wrapper)&&0===n(i.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){i[t].off(v+" "+y)}),r())}function u(e){e.state!==w.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(v+" "+y)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),o(e,w.CLOSED,!0))}function l(e){var t,n,r,i,a={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),i=0,n=t.length;n>i;i++)t[i]=t[i].split(":"),r=t[i][1],("string"==typeof r||r instanceof String)&&(r="true"===r||("false"===r?!1:r)),("string"==typeof r||r instanceof String)&&(r=isNaN(r)?r:+r),a[t[i][0]]=r;return a}function c(){for(var e=g,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function d(){var e,n,r=location.hash.replace("#","");if(r){try{n=t("[data-"+m+'-id="'+r+'"]')}catch(i){}n&&n.length&&(e=t[m].lookup[n.data(m)],e&&e.settings.hashTracking&&e.open())}else h&&h.state===w.OPENED&&h.settings.hashTracking&&h.close()}function f(e,n){var r=t(document.body),i=this;i.settings=t.extend({},b,n),i.index=t[m].lookup.push(i)-1,i.state=w.CLOSED,i.$overlay=t("."+c("overlay")),i.$overlay.length||(i.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",w.CLOSED)).hide(),r.append(i.$overlay)),i.$bg=t("."+c("bg")).addClass(c("is",w.CLOSED)),i.$modal=e.addClass(g+" "+c("is-initialized")+" "+i.settings.modifier+" "+c("is",w.CLOSED)).attr("tabindex","-1"),i.$wrapper=t("<div>").addClass(c("wrapper")+" "+i.settings.modifier+" "+c("is",w.CLOSED)).hide().append(i.$modal),r.append(i.$wrapper),i.$wrapper.on("click."+g,"[data-"+m+'-action="close"]',function(e){e.preventDefault(),i.close()}),i.$wrapper.on("click."+g,"[data-"+m+'-action="cancel"]',function(e){e.preventDefault(),i.$modal.trigger(x.CANCELLATION),i.settings.closeOnCancel&&i.close(x.CANCELLATION)}),i.$wrapper.on("click."+g,"[data-"+m+'-action="confirm"]',function(e){e.preventDefault(),i.$modal.trigger(x.CONFIRMATION),i.settings.closeOnConfirm&&i.close(x.CONFIRMATION)}),i.$wrapper.on("click."+g,function(e){var n=t(e.target);n.hasClass(c("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}var h,p,m="remodal",g=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||m,v=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+g}).join(" "),y=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+g}).join(" "),b=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),w={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},x={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},E=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),C=/iPad|iPhone|iPod/.test(navigator.platform);f.prototype.open=function(){var e,n=this;n.state!==w.OPENING&&n.state!==w.CLOSING&&(e=n.$modal.attr("data-"+m+"-id"),e&&n.settings.hashTracking&&(p=t(window).scrollTop(),location.hash=e),h&&h!==n&&u(h),h=n,i(),n.$bg.addClass(n.settings.modifier),n.$overlay.addClass(n.settings.modifier).show(),n.$wrapper.show().scrollTop(0),n.$modal.focus(),s(function(){o(n,w.OPENING)},function(){o(n,w.OPENED)},n))},f.prototype.close=function(e){var n=this;n.state!==w.OPENING&&n.state!==w.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-"+m+"-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(p)),s(function(){o(n,w.CLOSING,!1,e)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),a(),o(n,w.CLOSED,!1,e)},n))},f.prototype.getState=function(){return this.state},f.prototype.destroy=function(){var e,n=t[m].lookup;u(this),this.$wrapper.remove(),delete n[this.index],e=t.grep(n,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",w.CLOSING)+" "+c("is",w.OPENING)+" "+c("is",w.CLOSED)+" "+c("is",w.OPENED)))},t[m]={lookup:[]},t.fn[m]=function(e){var n,r;return this.each(function(i,a){r=t(a),null==r.data(m)?(n=new f(r,e),r.data(m,n.index),n.settings.hashTracking&&r.attr("data-"+m+"-id")===location.hash.substr(1)&&n.open()):n=t[m].lookup[r.data(m)]}),n},t(document).ready(function(){t(document).on("click","[data-"+m+"-target]",function(e){e.preventDefault();var n=e.currentTarget,r=n.getAttribute("data-"+m+"-target"),i=t("[data-"+m+'-id="'+r+'"]');t[m].lookup[i.data(m)].open()}),t(document).find("."+g).each(function(e,n){var r=t(n),i=r.data(m+"-options");i?("string"==typeof i||i instanceof String)&&(i=l(i)):i={},r[m](i)}),t(document).on("keydown."+g,function(e){h&&h.settings.closeOnEscape&&h.state===w.OPENED&&27===e.keyCode&&h.close()}),t(window).on("hashchange."+g,d)})}),function(e,t){var n=function(e,t,n){var r;return function(){function i(){n||e.apply(a,o),r=null}var a=this,o=arguments;r?clearTimeout(r):n&&e.apply(a,o),r=setTimeout(i,t||50)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}}(jQuery,"smartresize"),/*!
 * jQuery Validation Plugin v1.15.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2016 Jrn Zaefferer
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,i;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),i=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),void 0!==i?i:!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n,r;return e(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t,t||(r=r.concat(n.errorList))}),n.errorList=r),t},rules:function(t,n){if(this.length){var r,i,a,o,s,u,l=this[0];if(t)switch(r=e.data(l.form,"validator").settings,i=r.rules,a=e.validator.staticRules(l),t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,i[l.name]=a,n.messages&&(r.messages[l.name]=e.extend(r.messages[l.name],n.messages));break;case"remove":return n?(u={},e.each(n.split(/\s/),function(t,n){u[n]=a[n],delete a[n],"required"===n&&e(l).removeAttr("aria-required")}),u):(delete i[l.name],a)}return o=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),o.required&&(s=o.required,delete o.required,o=e.extend({required:s},o),e(l).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=e.extend(o,{remote:s})),o}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var n=e(t).val();return null!==n&&!!e.trim(""+n)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:void 0===n?t:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,r)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),i=n.settings;i[r]&&!e(this).is(i.ignore)&&i[r].call(n,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,r=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){r[n]=t})}),n=this.settings.rules,e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,r,i=this.clean(t),a=this.validationTargetFor(i),o=this,s=!0;return void 0===a?delete this.invalid[i.name]:(this.prepareElement(a),this.currentElements=e(a),r=this.groups[a.name],r&&e.each(this.groups,function(e,t){t===r&&e!==a.name&&(i=o.validationTargetFor(o.clean(o.findByName(e))),i&&i.name in o.invalid&&(o.currentElements.push(i),s=s&&o.check(i)))}),n=this.check(a)!==!1,s=s&&n,n?this.invalid[a.name]=!1:this.invalid[a.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),s},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:n.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||e(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),r in n||!t.objectLength(e(this).rules())?!1:(n[r]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,r,i=e(t),a=t.type;return"radio"===a||"checkbox"===a?this.findByName(t.name).filter(":checked").val():"number"===a&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":i.val():(n=t.hasAttribute("contenteditable")?i.text():i.val(),"file"===a?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(r=n.lastIndexOf("/"),r>=0?n.substr(r+1):(r=n.lastIndexOf("\\"),r>=0?n.substr(r+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,r,i,a=e(t).rules(),o=e.map(a,function(e,t){return t}).length,s=!1,u=this.elementValue(t);if("function"==typeof a.normalizer){if(u=a.normalizer.call(t,u),"string"!=typeof u)throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(r in a){i={method:r,parameters:a[r]};try{if(n=e.validator.methods[r].call(this,u,t,i.parameters),"dependency-mismatch"===n&&1===o){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,i),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",l),l instanceof TypeError&&(l.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),l}}if(!s)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){var r=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),r},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r,i,a,o,s=this.errorsFor(t),u=this.idOrName(t),l=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=e("<"+this.settings.errorElement+">").attr("id",u+"-error").addClass(this.settings.errorClass).html(n||""),r=s,this.settings.wrapper&&(r=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t),s.is("label")?s.attr("for",u):0===s.parents("label[for='"+this.escapeCssMeta(u)+"']").length&&(a=s.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(l+=" "+a):l=a,e(t).attr("aria-describedby",l),i=this.groups[t.name],i&&(o=this,e.each(o.groups,function(t,n){n===i&&e("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",s.attr("id"))})))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),r=e(t).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return r&&(i=i+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(e,t,n,r){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?e[n]=r:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(t){var n,r,i={},a=e(t),o=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(r=t.getAttribute(n),""===r&&(r=!0),r=!!r):r=a.attr(n),this.normalizeAttributeRule(i,o,n,r);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var n,r,i={},a=e(t),o=t.getAttribute("type");for(n in e.validator.methods)r=a.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,n,r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1)return void delete t[r];if(i.param||i.depends){var a=!0;switch(typeof i.depends){case"string":a=!!e(i.depends,n.form).length;break;case"function":a=i.depends.call(n,n)}a?t[r]=void 0!==i.param?i.param:!0:(e.data(n.form,"validator").resetElements(e(n)),delete t[r])}}),e.each(t,function(r,i){t[r]=e.isFunction(i)&&"normalizer"!==r?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==r?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){
// Copyright (c) 2010-2013 Diego Perini, MIT licensed
return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,r){var i=e(n).attr("type"),a="Step attribute on input type "+i+" is not supported.",o=["text","number","range"],s=new RegExp("\\b"+i+"\\b"),u=i&&!s.test(o.join());if(u)throw new Error(a);return this.optional(n)||t%r===0},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()},remote:function(t,n,r,i){if(this.optional(n))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var a,o,s,u=this.previousValue(n,i);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),u.originalMessage=u.originalMessage||this.settings.messages[n.name][i],this.settings.messages[n.name][i]=u.message,r="string"==typeof r&&{url:r}||r,s=e.param(e.extend({data:t},r.data)),u.old===s?u.valid:(u.old=s,a=this,this.startRequest(n),o={},o[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:a.currentForm,success:function(e){var r,o,s,l=e===!0||"true"===e;a.settings.messages[n.name][i]=u.originalMessage,l?(s=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(n),a.formSubmitted=s,a.successList.push(n),a.invalid[n.name]=!1,a.showErrors()):(r={},o=e||a.defaultMessage(n,{method:i,parameters:t}),r[n.name]=u.message=o,a.invalid[n.name]=!0,a.showErrors(r)),u.valid=l,a.stopRequest(n,l)}},r)),"pending")}}});var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,r){var i=e.port;"abort"===e.mode&&(n[i]&&n[i].abort(),n[i]=r)}):(t=e.ajax,e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,a=("port"in r?r:e.ajaxSettings).port;return"abort"===i?(n[a]&&n[a].abort(),n[a]=t.apply(this,arguments),n[a]):t.apply(this,arguments)})}),/*
    The MIT License (MIT)

    Copyright (c) 2014 Dirk Groenen

    Permission is hereby granted, free of charge, to any person obtaining a copy of
    this software and associated documentation files (the "Software"), to deal in
    the Software without restriction, including without limitation the rights to
    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
    the Software, and to permit persons to whom the Software is furnished to do so,
    subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.
*/
function(e){e.fn.viewportChecker=function(t){var n={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(e,t){},scrollHorizontal:!1,scrollBox:window};e.extend(n,t);var r=this,i={height:e(n.scrollBox).height(),width:e(n.scrollBox).width()},a=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")||-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")?"body":"html";return this.checkElements=function(){var t,o;n.scrollHorizontal?(t=e(a).scrollLeft(),o=t+i.width):(t=e(a).scrollTop(),o=t+i.height),r.each(function(){var r=e(this),a={},s={};if(r.data("vp-add-class")&&(s.classToAdd=r.data("vp-add-class")),r.data("vp-remove-class")&&(s.classToRemove=r.data("vp-remove-class")),r.data("vp-add-class-full-view")&&(s.classToAddForFullView=r.data("vp-add-class-full-view")),r.data("vp-keep-add-class")&&(s.removeClassAfterAnimation=r.data("vp-remove-after-animation")),r.data("vp-offset")&&(s.offset=r.data("vp-offset")),r.data("vp-repeat")&&(s.repeat=r.data("vp-repeat")),r.data("vp-scrollHorizontal")&&(s.scrollHorizontal=r.data("vp-scrollHorizontal")),r.data("vp-invertBottomOffset")&&(s.scrollHorizontal=r.data("vp-invertBottomOffset")),e.extend(a,n),e.extend(a,s),!r.data("vp-animated")||a.repeat){String(a.offset).indexOf("%")>0&&(a.offset=parseInt(a.offset)/100*i.height);var u=a.scrollHorizontal?r.offset().left:r.offset().top,l=a.scrollHorizontal?u+r.width():u+r.height(),c=Math.round(u)+a.offset,d=a.scrollHorizontal?c+r.width():c+r.height();a.invertBottomOffset&&(d-=2*a.offset),o>c&&d>t?(r.removeClass(a.classToRemove),r.addClass(a.classToAdd),a.callbackFunction(r,"add"),o>=l&&u>=t?r.addClass(a.classToAddForFullView):r.removeClass(a.classToAddForFullView),r.data("vp-animated",!0),a.removeClassAfterAnimation||r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){r.removeClass(a.classToAdd)})):r.hasClass(a.classToAdd)&&a.repeat&&(r.removeClass(a.classToAdd+" "+a.classToAddForFullView),a.callbackFunction(r,"remove"),r.data("vp-animated",!1))}})},("ontouchstart"in window||"onmsgesturechange"in window)&&e(document).bind("touchmove MSPointerMove pointermove",this.checkElements),e(n.scrollBox).bind("load scroll",this.checkElements),e(window).resize(function(t){i={height:e(n.scrollBox).height(),width:e(n.scrollBox).width()},r.checkElements()}),this.checkElements(),this}}(jQuery),function(e,t){var n={catchMethods:{methodreturn:[],count:0},init:function(t){var n,r,i;t.originalEvent.origin.match(/vimeo/g)&&"data"in t.originalEvent&&(i="string"===e.type(t.originalEvent.data)?e.parseJSON(t.originalEvent.data):t.originalEvent.data,i&&(n=this.setPlayerID(i),n.length&&(r=this.setVimeoAPIurl(n),i.hasOwnProperty("event")&&this.handleEvent(i,n,r),i.hasOwnProperty("method")&&this.handleMethod(i,n,r))))},setPlayerID:function(t){return e("iframe[src*="+t.player_id+"]")},setVimeoAPIurl:function(e){return"http"!==e.attr("src").substr(0,4)?"https:"+e.attr("src").split("?")[0]:e.attr("src").split("?")[0]},handleMethod:function(e,t,n){this.catchMethods.methodreturn.push(e.value)},handleEvent:function(t,n,r){switch(t.event.toLowerCase()){case"ready":for(var i in e._data(n[0],"events"))i.match(/loadProgress|playProgress|play|pause|finish|seek|cuechange/)&&n[0].contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:i}),r);if(n.data("vimeoAPICall")){for(var a=n.data("vimeoAPICall"),o=0;o<a.length;o++)n[0].contentWindow.postMessage(JSON.stringify(a[o].message),a[o].api);n.removeData("vimeoAPICall")}n.data("vimeoReady",!0),n.triggerHandler("ready");break;case"seek":n.triggerHandler("seek",[t.data]);break;case"loadprogress":n.triggerHandler("loadProgress",[t.data]);break;case"playprogress":n.triggerHandler("playProgress",[t.data]);break;case"pause":n.triggerHandler("pause");break;case"finish":n.triggerHandler("finish");break;case"play":n.triggerHandler("play");break;case"cuechange":n.triggerHandler("cuechange")}}};jQuery(document).ready(function(){e("iframe[src*='vimeo.com']").each(function(t){var n=e(this).attr("src");if(null===n.match(/player_id/g)){var r=-1===n.indexOf("?")?"?":"&",i=e.param({api:1,player_id:"vvvvimeoVideo-"+t});e(this).attr("src",n+r+i)}})}),e(t).on("message",function(e){n.init(e)}),e.vimeo=function(e,r,i){var a={},o=n.catchMethods.methodreturn.length;if("string"==typeof r&&(a.method=r),void 0!==typeof i&&"function"!=typeof i&&(a.value=i),"iframe"===e.prop("tagName").toLowerCase()&&a.hasOwnProperty("method"))if(e.data("vimeoReady"))e[0].contentWindow.postMessage(JSON.stringify(a),n.setVimeoAPIurl(e));else{var s=e.data("vimeoAPICall")?e.data("vimeoAPICall"):[];s.push({message:a,api:n.setVimeoAPIurl(e)}),e.data("vimeoAPICall",s)}return"get"!==r.toString().substr(0,3)&&"paused"!==r.toString()||"function"!=typeof i||(!function(e,r,i){var a=t.setInterval(function(){n.catchMethods.methodreturn.length!=e&&(t.clearInterval(a),r(n.catchMethods.methodreturn[i]))},10)}(o,i,n.catchMethods.count),n.catchMethods.count++),e},e.fn.vimeo=function(t,n){return e.vimeo(this,t,n)}}(jQuery,window),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.PlanOut=t():e.PlanOut=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=i(a),s=n(2),u=i(s),l=n(3),c=i(l),d=n(4),f=i(d),h=n(5),p=r(h),m=n(6),g=i(m),v=n(7),y=i(v);t["default"]={Namespace:p,Assignment:g["default"],Interpreter:u["default"],Experiment:o["default"],ExperimentSetup:y["default"],Ops:{Random:c["default"],Core:f["default"]}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),s=r(o),u=n(9),l=function(){function e(t){i(this,e),this.inputs=t,this._exposureLogged=!1,this._salt=null,this._inExperiment=!0,this.name=this.getDefaultExperimentName(),this._autoExposureLog=!0,this.setup(),this._assignment=new s["default"](this.getSalt()),this._assigned=!1}return a(e,[{key:"getDefaultExperimentName",value:function(){if(u.isObject(this)&&this.constructor&&this!==this.window){var e=this.constructor.toString().match(/function\s*(\w+)/);if(e&&2===e.length)return e[1]}return"GenericExperiment"}},{key:"getDefaultParamNames",value:function(){var e=this.assign.toString(),t=e.split(".set(");return t.splice(0,1),u.map(t,function(e){var t=u.trimTrailingWhitespace(e.split(",")[0]);return t.substr(1,t.length-2)})}},{key:"requireAssignment",value:function(){this._assigned||this._assign()}},{key:"requireExposureLogging",value:function(e){this.shouldLogExposure(e)&&this.logExposure()}},{key:"_assign",value:function(){this.configureLogger();var e=this.assign(this._assignment,this.inputs);e||void 0===e?this._inExperiment=!0:this._inExperiment=!1,this._assigned=!0}},{key:"setup",value:function(){}},{key:"inExperiment",value:function(){return this._inExperiment}},{key:"addOverride",value:function(e,t){this._assignment.addOverride(e,t)}},{key:"setOverrides",value:function(e){this._assignment.setOverrides(e);var t=this._assignment.getOverrides(),n=this;u.forEach(Object.keys(t),function(e){void 0!==n.inputs[e]&&(n.inputs[e]=t[e])})}},{key:"getSalt",value:function(){return this._salt?this._salt:this.name}},{key:"setSalt",value:function(e){this._salt=e,this._assignment&&(this._assignment.experimentSalt=e)}},{key:"getName",value:function(){return this.name}},{key:"assign",value:function(e,t){throw"IMPLEMENT assign"}},{key:"getParamNames",value:function(){throw"IMPLEMENT getParamNames"}},{key:"shouldFetchExperimentParameter",value:function(e){var t=this.getParamNames();return t.indexOf(e)>=0}},{key:"setName",value:function(e){var t=/\s+/g;this.name=e.replace(t,"-"),this._assignment&&(this._assignment.experimentSalt=this.getSalt())}},{key:"__asBlob",value:function(){var e=void 0===arguments[0]?{}:arguments[0],t={name:this.getName(),time:(new Date).getTime()/1e3,salt:this.getSalt(),inputs:this.inputs,params:this._assignment.getParams()};return u.extend(t,e),t}},{key:"setAutoExposureLogging",value:function(e){this._autoExposureLog=e}},{key:"getParams",value:function(){return this.requireAssignment(),this.requireExposureLogging(),this._assignment.getParams()}},{key:"get",value:function(e,t){return this.requireAssignment(),this.requireExposureLogging(e),this._assignment.get(e,t)}},{key:"toString",value:function(){return this.requireAssignment(),this.requireExposureLogging(),JSON.stringify(this.__asBlob())}},{key:"logExposure",value:function(e){this.inExperiment()&&(this._exposureLogged=!0,this.logEvent("exposure",e))}},{key:"shouldLogExposure",value:function(e){return void 0===e||this.shouldFetchExperimentParameter(e)?this._autoExposureLog&&!this.previouslyLogged():!1}},{key:"logEvent",value:function(e,t){if(this.inExperiment()){var n;n=t?{event:e,extra_data:u.shallowCopy(t)}:{event:e},this.log(this.__asBlob(n))}}},{key:"configureLogger",value:function(){throw"IMPLEMENT configureLogger"}},{key:"log",value:function(e){throw"IMPLEMENT log"}},{key:"previouslyLogged",value:function(){throw"IMPLEMENT previouslyLogged"}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),s=r(o),u=n(8),l=n(9),c=function(){function e(t,n,r,a){var o=void 0===arguments[1]?"global_salt":arguments[1],u=void 0===arguments[2]?{}:arguments[2];i(this,e),this._serialization=t,a?this._env=a:this._env=new s["default"](o),this.experimentSalt=this._experimentSalt=o,this._evaluated=!1,this._inExperiment=!1,this._inputs=l.shallowCopy(u)}return a(e,[{key:"inExperiment",value:function(){return this._inExperiment}},{key:"setEnv",value:function(e){return this._env=l.deepCopy(e),this}},{key:"has",value:function(e){return this._env[e]}},{key:"get",value:function(e,t){var n=this._inputs[e];n||(n=t);var r=this._env.get(e);return r?r:n}},{key:"getParams",value:function(){if(!this._evaluated){try{this.evaluate(this._serialization)}catch(e){e instanceof u.StopPlanOutException&&(this._inExperiment=e.inExperiment)}this._evaluated=!0}return this._env.getParams()}},{key:"set",value:function(e,t){return this._env.set(e,t),this}},{key:"setOverrides",value:function(e){return this._env.setOverrides(e),this}},{key:"getOverrides",value:function(){return this._env.getOverrides()}},{key:"hasOverride",value:function(e){var t=this.getOverrides();return t&&void 0!==t[e]}},{key:"evaluate",value:function(e){if(l.isObject(e)&&e.op)return u.operatorInstance(e).execute(this);if(l.isArray(e)){var t=this;return l.map(e,function(e){return t.evaluate(e)})}return e}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=a,n=o,r=!0}},u=n(10),l=n(11),c=r(l),d=n(9),f=n(7),h=n(12),p=r(h),m=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.LONG_SCALE_NON_COMPAT=0xfffffffffffff,this.LONG_SCALE_COMPAT=new p["default"]("FFFFFFFFFFFFFFF",16)}return a(t,e),o(t,[{key:"getUnit",value:function(e){var t=this.getArgMixed("unit");return d.isArray(t)||(t=[t]),e&&t.push(e),t}},{key:"getUniform",value:function(e,t,n){var r,i=void 0===arguments[0]?0:arguments[0],a=void 0===arguments[1]?1:arguments[1];return r=f.usingCompatibleHash()?this.getHash(n).dividedBy(this.LONG_SCALE_COMPAT).toNumber():this.getHash(n)/this.LONG_SCALE_NON_COMPAT,r*(a-i)+i}},{key:"getHash",value:function(e){var t;if(this.args.full_salt)t=this.getArgString("full_salt");else{var n=this.getArgString("salt");t=this.mapper.get("experimentSalt")+"."+n}var r=this.getUnit(e).map(function(e){return String(e)}).join("."),i=t+"."+r,a=c["default"](i);return f.usingCompatibleHash()?new p["default"](a.substr(0,15),16):parseInt(a.substr(0,13),16)}}]),t}(u.PlanOutOpSimple),g=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("min"),t=this.getArgNumber("max");return this.getUniform(e,t)}}]),t}(m),v=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("min"),t=this.getArgNumber("max");return f.usingCompatibleHash()?this.getHash().plus(e).modulo(t-e+1).toNumber():(this.getHash()+e)%(t-e+1)}}]),t}(m),y=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("p");if(0>e||e>1)throw"Invalid probability";return this.getUniform(0,1)<=e?1:0}}]),t}(m),b=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("p"),t=this.getArgList("choices");if(0>e||e>1)throw"Invalid probability";if(0==t.length)return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];this.getUniform(0,1,i)<=e&&n.push(i)}return n}}]),t}(m),w=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgList("choices");if(0===e.length)return[];var t;return t=f.usingCompatibleHash()?this.getHash().modulo(e.length).toNumber():this.getHash()%e.length,e[t]}}]),t}(m),x=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"simpleExecute",value:function(){var e=this.getArgList("choices"),t=this.getArgList("weights");if(0===e.length)return[];var n=0,r=t.map(function(e){return n+=e}),i=this.getUniform(0,n);return d.reduce(r,function(t,n,r){return t?t:n>=i?e[r]:t},null)}}]),t}(m),E=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"sample",value:function(e,t){for(var n=e.length,r=n-t,i=f.usingCompatibleHash(),a=n-1;a>0;a--){var o;o=i?this.getHash(a).modulo(a+1).toNumber():this.getHash(a)%(a+1);var s=e[a];if(e[a]=e[o],e[o]=s,!i&&r===a)return e.slice(a,n)}return e.slice(0,t)}},{key:"simpleExecute",value:function(){var e=d.shallowCopy(this.getArgList("choices")),t=0;return t=void 0!==this.args.draws?this.getArgNumber("draws"):e.length,this.sample(e,t)}}]),t}(m);t["default"]={PlanOutOpRandom:m,Sample:E,WeightedChoice:x,UniformChoice:w,BernoulliFilter:b,BernoulliTrial:y,RandomInteger:v,RandomFloat:g},e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),s=n(8),u=n(9),l=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){return this.getArgMixed("value")}}]),t}(o.PlanOutOp),c=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){return e.get(this.getArgString("var"))}}]),t}(o.PlanOutOp),d=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){u.forEach(this.getArgList("seq"),function(t){e.evaluate(t)})}}]),t}(o.PlanOutOp),f=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){var t=e.evaluate(this.getArgMixed("value")),n=!1;throw t&&(n=!0),new s.StopPlanOutException(n)}}]),t}(o.PlanOutOp),h=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){var t=this.getArgString("var"),n=this.getArgMixed("value");e.hasOverride(t)||(s.isOperator(n)&&!n.salt&&(n.salt=t),"experimentSalt"==t&&(e.experimentSalt=n),e.set(t,e.evaluate(n)))}}]),t}(o.PlanOutOp),p=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){return u.map(this.getArgList("values"),function(t){return e.evaluate(t)})}}]),t}(o.PlanOutOp),m=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){for(var t=this.getArgList("values"),n=0;n<t.length;n++){var r=t[n],i=e.evaluate(r);if(null!==i&&void 0!==i)return i}return null}}]),t}(o.PlanOutOp),g=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"simpleExecute",value:function(){var e=this.getArgIndexish("base"),t=this.getArgMixed("index");return"number"==typeof t?t>=0&&t<e.length?e[t]:void 0:e[t]}}]),t}(o.PlanOutOpSimple),v=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){var t=this.getArgList("cond");for(var n in t){var r=t[n]["if"],i=t[n].then;if(e.evaluate(r))return e.evaluate(i)}return null}}]),t}(o.PlanOutOp),y=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){return u.reduce(this.getArgList("values"),function(t,n){return t?Boolean(e.evaluate(n)):t},!0)}}]),t}(o.PlanOutOp),b=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"execute",value:function(e){return u.reduce(this.getArgList("values"),function(t,n){return t?t:Boolean(e.evaluate(n))},!1)}}]),t}(o.PlanOutOp),w=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"commutativeExecute",value:function(e){return u.reduce(e,function(e,t){return e*t},1)}}]),t}(o.PlanOutOpCommutative),x=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"commutativeExecute",value:function(e){return u.reduce(e,function(e,t){return e+t},0)}}]),t}(o.PlanOutOpCommutative),E=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"getInfixString",value:function(){return"=="}},{key:"binaryExecute",value:function(e,t){return e===t}}]),t}(o.PlanOutOpBinary),C=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return e>t}}]),t}(o.PlanOutOpBinary),k=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return t>e}}]),t}(o.PlanOutOpBinary),S=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return t>=e}}]),t}(o.PlanOutOpBinary),_=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return e>=t}}]),t}(o.PlanOutOpBinary),A=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return e%t}}]),t}(o.PlanOutOpBinary),O=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"binaryExecute",value:function(e,t){return parseFloat(e)/parseFloat(t)}}]),t}(o.PlanOutOpBinary),T=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"unaryExecute",value:function(e){return Math.round(e)}}]),t}(o.PlanOutOpBinary),j=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"getUnaryString",value:function(){return"!"}},{key:"unaryExecute",value:function(e){return!e}}]),t}(o.PlanOutOpUnary),P=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"getUnaryString",value:function(){return"-"}},{key:"unaryExecute",value:function(e){return 0-e}}]),t}(o.PlanOutOpUnary),N=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"commutativeExecute",value:function(e){return Math.min.apply(null,e)}}]),t}(o.PlanOutOpCommutative),I=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"commutativeExecute",value:function(e){return Math.max.apply(null,e)}}]),t}(o.PlanOutOpCommutative),F=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"unaryExecute",value:function(e){return e.length}}]),t}(o.PlanOutOpUnary),L=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),a(t,[{key:"simpleExecute",value:function(){var e=u.deepCopy(this.args);return delete e.op,delete e.salt,e}}]),t}(o.PlanOutOpSimple);t.Literal=l,t.Get=c,t.Seq=d,t.Set=h,t.Arr=p,t.Map=L,t.Coalesce=m,t.Index=g,t.Cond=v,t.And=y,t.Or=b,t.Product=w,t.Sum=x,t.Equals=E,t.GreaterThan=C,t.LessThan=k,t.LessThanOrEqualTo=S,t.GreaterThanOrEqualTo=_,t.Mod=A,t.Divide=O,t.Round=T,t.Not=j,t.Negative=P,t.Min=N,t.Max=I,t.Length=F,t.Return=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=a,n=o,r=!0}},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(6),d=r(c),f=n(3),h=n(9),p=n(7),m=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),s(t,[{key:"configureLogger",value:function(){}},{key:"setup",value:function(){this.name="test_name"}},{key:"log",value:function(e){}},{key:"getParamNames",value:function(){return this.getDefaultParamNames()}},{key:"previouslyLogged",value:function(){return!0}},{key:"assign",value:function(e,t){}}]),t}(l["default"]),g=function(){function e(){i(this,e)}return s(e,[{key:"addExperiment",value:function(e,t,n){throw"IMPLEMENT addExperiment"}},{key:"removeExperiment",value:function(e){throw"IMPLEMENT removeExperiment"}},{key:"setAutoExposureLogging",value:function(e){throw"IMPLEMENT setAutoExposureLogging"}},{key:"inExperiment",value:function(){throw"IMPLEMENT inExperiment"}},{key:"get",value:function(e,t){throw"IMPLEMENT get"}},{key:"logExposure",value:function(e){throw"IMPLEMENT logExposure"}},{key:"logEvent",value:function(e,t){throw"IMPLEMENT logEvent"}},{key:"requireExperiment",value:function(){this._experiment||this._assignExperiment()}},{key:"requireDefaultExperiment",value:function(){this._defaultExperiment||this._assignDefaultExperiment()}}]),e}(),v=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.name=this.getDefaultNamespaceName(),this.inputs=e||{},this.numSegments=1,this.segmentAllocations={},this.currentExperiments={},this._experiment=null,this._defaultExperiment=null,this.defaultExperimentClass=m,this._inExperiment=!1,this.setupDefaults(),this.setup(),this.availableSegments=h.range(this.numSegments),this.setupExperiments()}return a(t,e),s(t,[{key:"setupDefaults",value:function(){}},{key:"setup",value:function(){throw"IMPLEMENT setup"}},{key:"setupExperiments",value:function(){throw"IMPLEMENT setupExperiments"}},{key:"getPrimaryUnit",value:function(){return this._primaryUnit}},{key:"allowedOverride",value:function(){return!1}},{key:"getOverrides",value:function(){return{}}},{key:"setPrimaryUnit",value:function(e){this._primaryUnit=e}},{key:"addExperiment",value:function(e,t,n){var r=this.availableSegments.length;if(n>r)return!1;if(void 0!==this.currentExperiments[e])return!1;var i=new d["default"](this.name);i.set("sampled_segments",new f.Sample({choices:this.availableSegments,draws:n,unit:e}));for(var a=i.get("sampled_segments"),o=0;o<a.length;o++){this.segmentAllocations[a[o]]=e;var s=this.availableSegments.indexOf(a[o]);this.availableSegments[s]=this.availableSegments[r-1],this.availableSegments.splice(r-1,1),r-=1}this.currentExperiments[e]=t}},{key:"removeExperiment",value:function(e){var t=this;return void 0===this.currentExperiments[e]?!1:(h.forEach(Object.keys(this.segmentAllocations),function(n){t.segmentAllocations[n]===e&&(delete t.segmentAllocations[n],t.availableSegments.push(n))}),delete this.currentExperiments[e],!0)}},{key:"getSegment",value:function(){var e=new d["default"](this.name),t=new f.RandomInteger({min:0,max:this.numSegments-1,unit:this.inputs[this.getPrimaryUnit()]});return e.set("segment",t),e.get("segment")}},{key:"_assignExperiment",value:function(){this.inputs=h.extend(this.inputs,p.getExperimentInputs(this.getName()));var e=this.getSegment();if(void 0!==this.segmentAllocations[e]){var t=this.segmentAllocations[e];this._assignExperimentObject(t)}}},{key:"_assignExperimentObject",value:function(e){var t=new this.currentExperiments[e](this.inputs);t.setName(""+this.getName()+"-"+e),t.setSalt(""+this.getName()+"-"+e),this._experiment=t,this._inExperiment=t.inExperiment(),this._inExperiment||this._assignDefaultExperiment()}},{key:"_assignDefaultExperiment",value:function(){this._defaultExperiment=new this.defaultExperimentClass(this.inputs)}},{key:"defaultGet",value:function(e,n){return o(Object.getPrototypeOf(t.prototype),"requireDefaultExperiment",this).call(this),this._defaultExperiment.get(e,n)}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"previouslyLogged",value:function(){return this._experiment?this._experiment.previouslyLogged():null}},{key:"inExperiment",value:function(){return o(Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._inExperiment}},{key:"setAutoExposureLogging",value:function(e){this._autoExposureLoggingSet=e,this._defaultExperiment&&this._defaultExperiment.setAutoExposureLogging(e),this._experiment&&this._experiment.setAutoExposureLogging(e)}},{key:"setGlobalOverride",value:function(e){var t=this.getOverrides();if(t&&h.hasKey(t,e)){var n=t[e];n&&h.hasKey(this.currentExperiments,n.experimentName)&&(this._assignExperimentObject(n.experimentName),this._experiment.addOverride(e,n.value))}}},{key:"setLocalOverride",value:function(e){var t=h.getParameterByName("experimentOverride");t&&h.hasKey(this.currentExperiments,t)&&(this._assignExperimentObject(t),h.getParameterByName(e)&&this._experiment.addOverride(e,h.getParameterByName(e)))}},{key:"getParams",value:function(e){return o(Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this.getOriginalExperimentName()===e?this._experiment.getParams():null}},{key:"getOriginalExperimentName",value:function(){return this._experiment?this._experiment.getName().split("-")[1]:null}},{key:"get",value:function(e,n){return o(Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this.allowedOverride()&&this.setGlobalOverride(e),this.setLocalOverride(e),this._experiment?(void 0!==this._autoExposureLoggingSet&&this._experiment.setAutoExposureLogging(this._autoExposureLoggingSet),this._experiment.get(e,this.defaultGet(e,n))):this.defaultGet(e,n)}},{key:"logExposure",value:function(e){o(Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logExposure(e)}},{key:"logEvent",value:function(e,n){o(Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logEvent(e,n)}},{key:"getDefaultNamespaceName",value:function(){if(h.isObject(this)&&this.constructor&&this!==this.window){var e=this.constructor.toString().match(/function\s*(\w+)/);if(e&&2===e.length)return e[1]}return"GenericNamespace"}}]),t}(g);t.Namespace=g,t.SimpleNamespace=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=n(9),s=function(){function e(t,n){r(this,e),n||(n={}),this.experimentSalt=t,this._overrides=o.shallowCopy(n),this._data=o.shallowCopy(n)}return i(e,[{key:"evaluate",value:function(e){return e}},{key:"getOverrides",value:function(){return this._overrides}},{key:"addOverride",value:function(e,t){this._overrides[e]=t,this._data[e]=t}},{key:"setOverrides",value:function(e){this._overrides=o.shallowCopy(e);var t=this;o.forEach(Object.keys(this._overrides),function(e){t._data[e]=t._overrides[e]})}},{key:"set",value:function(e,t){return"_data"===e?void(this._data=t):"_overrides"===e?void(this._overrides=t):"experimentSalt"===e?void(this.experimentSalt=t):void(o.hasKey(this._overrides,e)||(t instanceof a.PlanOutOpRandom?(t.args.salt||(t.args.salt=e),this._data[e]=t.execute(this)):this._data[e]=t))}},{key:"get",value:function(e){return"_data"===e?this._data:"_overrides"===e?this._overrides:"experimentSalt"===e?this.experimentSalt:this._data[e]}},{key:"getParams",value:function(){return this._data}},{key:"del",value:function(e){delete this._data[e]}},{key:"toString",value:function(){return String(this._data)}},{key:"length",value:function(){return Object.keys(this._data).length}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i={},a={},o=!1,s=function(e){return e?u(r.shallowCopy(e)):{}},u=function(e){return r.forEach(Object.keys(e),function(t){r.isFunction(e[t])&&(e[t]=e[t]())}),e},l=function(e,t,n){n?(a[n]||(a[n]={}),a[n][e]=t):i[e]=t},c=function(e){var t=s(i);return e&&a[e]?r.extend(t,s(a[e])):t},d=function(e){o=e},f=function(){return o};t["default"]={registerExperimentInput:l,getExperimentInputs:c,toggleCompatibleHash:d,usingCompatibleHash:f},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,
t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),s=n(3),u=r(s),l=n(9),c=function(){return{literal:o.Literal,get:o.Get,set:o.Set,seq:o.Seq,"return":o.Return,index:o.Index,array:o.Arr,equals:o.Equals,and:o.And,or:o.Or,">":o.GreaterThan,"<":o.LessThan,">=":o.GreaterThanOrEqualTo,"<=":o.LessThanOrEqualTo,"%":o.Mod,"/":o.Divide,not:o.Not,round:o.Round,negative:o.Negative,min:o.Min,max:o.Max,length:o.Length,coalesce:o.Coalesce,map:o.Map,cond:o.Cond,product:o.Product,sum:o.Sum,randomFloat:u.RandomFloat,randomInteger:u.RandomInteger,bernoulliTrial:u.BernoulliTrial,bernoulliFilter:u.BernoulliFilter,uniformChoice:u.UniformChoice,weightedChoice:u.WeightedChoice,sample:u.Sample}},d=c(),f=function(e){return l.isObject(e)&&e.op},h=function(e){var t=e.op;if(!d[t])throw"Unknown Operator {op}";return new d[t](e)},p=function m(e){i(this,m),this.inExperiment=e};t.initFactory=c,t.isOperator=f,t.operatorInstance=h,t.StopPlanOutException=p},function(e,t,n){"use strict";function r(e,t){var n=j.length,r=e.constructor,i=l(r)&&r.prototype||Object.Prototype,a="constructor";for(O(e,a)&&!P(t,a)&&t.push(a);n--;)a=j[n],a in e&&e[a]!==i[a]&&!P(t,a)&&t.push(a)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.replace(/^\s+|\s+$/g,"")},a=function(e){var t,n="undefined"!=typeof location,r="undefined"!=typeof window;if(n){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=i.exec(location.search);t=null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}else t="";return null!==t&&void 0!==t&&0!==t.length||!r||void 0===window.localStorage||null===window.localStorage?t:window.localStorage.getItem(e)},o=function F(e){var t=e;if(e&&"object"==typeof e){t="[object Array]"===Object.prototype.toString.call(e)?[]:{};for(var n in e)t[n]=F(e[n])}return t},s=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},u=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(planout_code)},l=function(e){return"function"==typeof e||!1},c=function L(e){if(!s(e))return[];if(Object.keys)return Object.keys(e);var L=[];for(var t in e)O(e,t)&&L.push(t);return T&&r(e,L),L},d=function(e){if(!s(e))return[];var t=[];for(var n in e)t.push(n);return T&&r(e,t),t},f=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;s>u;u++){var l=o[u];t&&void 0!==n[l]||(n[l]=a[l])}return n}},h=f(d),p=f(c),m=function(e){return e},g=function(e,t){var n=n(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0},v=function(e){return e=p({},e),function(t){return g(t,e)}},y=function(e,t,n){return null==e?m:l(e)?b(e,t,n):s(e)?v(e):k(e)},b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){t=b(t,n);var r,i;if(A(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=a(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},x=function(e,t,n){t=y(t,n);for(var r=!A(e)&&r(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},E=function(e,t,n,r){t=b(t,r,4);var i=!A(e)&&i(e),a=(i||e).length,o=0;for(arguments.length<3&&(n=e[i?i[o]:o],o+=1);o>=0&&a>o;o++){var s=i?i[o]:o;n=t(n,e[s],s,e)}return n},C=function(e){return s(e)?u(e)?e.slice():h({},e):e},k=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,_=k("length"),A=function(e){var t=_(e);return"number"==typeof t&&t>=0&&S>=t},O=function(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)},T=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],P=function(e,t,n,r){return A(e)||(e=values(e)),("number"!=typeof n||r)&&(n=0),e.indexOf(t)>=0},N=function(e){for(var t=[],n=0;e>n;n++)t.push(n);return t},I=function(e,t){return"undefined"!=typeof e[t]};t["default"]={deepCopy:o,map:x,reduce:E,getParameterByName:a,forEach:w,isFunction:l,trimTrailingWhitespace:i,hasKey:I,shallowCopy:C,extend:h,isObject:s,isArray:u,range:N},e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),s=function(){function e(t){i(this,e),this.args=t}return a(e,[{key:"execute",value:function(e){throw"Implement this function"}},{key:"dumpArgs",value:function(){console.log(this.args)}},{key:"getArgMixed",value:function(e){if(void 0===this.args[e])throw"Missing argument "+e;return this.args[e]}},{key:"getArgNumber",value:function(e){var t=this.getArgMixed(e);if("number"!=typeof t)throw e+" is not a number.";return t}},{key:"getArgString",value:function(e){var t=this.getArgMixed(e);if("string"!=typeof t)throw e+" is not a string.";return t}},{key:"getArgList",value:function(e){var t=this.getArgMixed(e);if("[object Array]"!==Object.prototype.toString.call(t))throw e+" is not a list";return t}},{key:"getArgObject",value:function(e){var t=this.getArgMixed(e);if("[object Object]"!==Object.prototype.toString.call(t))throw e+" is not an object.";return t}},{key:"getArgIndexish",value:function(e){var t=this.getArgMixed(e),n=Object.prototype.toString.call(t);if("[object Object]"!==n&&"[object Array]"!==n)throw e+" is not an list or object.";return t}}]),e}(),u=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,[{key:"execute",value:function(e){this.mapper=e;var t=this;return o.forEach(Object.keys(this.args),function(n){t.args[n]=e.evaluate(t.args[n])}),this.simpleExecute()}}]),t}(s),l=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,[{key:"simpleExecute",value:function(){return this.unaryExecute(this.getArgMixed("value"))}},{key:"getUnaryString",value:function(){return this.args.op}},{key:"unaryExecute",value:function(e){throw"implement this"}}]),t}(u),c=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,[{key:"simpleExecute",value:function(){this.getArgMixed("left");return this.binaryExecute(this.getArgMixed("left"),this.getArgMixed("right"))}},{key:"getInfixString",value:function(){return this.args.op}},{key:"binaryExecute",value:function(e,t){throw"implement this"}}]),t}(u),d=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return r(t,e),a(t,[{key:"simpleExecute",value:function(){return this.commutativeExecute(this.getArgList("values"))}},{key:"getCommutativeString",value:function(){return this.args.op}},{key:"commutativeExecute",value:function(e){throw"implement this"}}]),t}(u);t.PlanOutOp=s,t.PlanOutOpSimple=u,t.PlanOutOpCommutative=d,t.PlanOutOpBinary=c,t.PlanOutOpUnary=l},function(e,t,n){(function(t){!function(){var r=n(15),i=n(14).utf8,a=n(14).bin,o=function(e){e.constructor==String?e=i.stringToBytes(e):"undefined"!=typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=r.bytesToWords(e),a=8*e.length,o=[],s=1732584193,u=-271733879,l=-1732584194,c=271733878,d=-1009589776;n[a>>5]|=128<<24-a%32,n[(a+64>>>9<<4)+15]=a;for(var f=0;f<n.length;f+=16){for(var h=s,p=u,m=l,g=c,v=d,y=0;80>y;y++){if(16>y)o[y]=n[f+y];else{var b=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=b<<1|b>>>31}var w=(s<<5|s>>>27)+d+(o[y]>>>0)+(20>y?(u&l|~u&c)+1518500249:40>y?(u^l^c)+1859775393:60>y?(u&l|u&c|l&c)-1894007588:(u^l^c)-899497514);d=c,c=l,l=u<<30|u>>>2,u=s,s=w}s+=h,u+=p,l+=m,c+=g,d+=v}return[s,u,l,c,d]},s=function(e,t){var n=r.wordsToBytes(o(e));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)};s._blocksize=16,s._digestsize=20,e.exports=s}()}).call(t,n(13).Buffer)},function(e,t,n){var r;!function(i){"use strict";function a(e){function t(e,r){var i,a,o,s,u,l,c=this;if(!(c instanceof t))return z&&N(26,"constructor call without new",e),new t(e,r);if(null!=r&&Y(r,2,64,L,"base")){if(r=0|r,l=e+"",10==r)return c=new t(e instanceof t?e:l),I(c,R+c.e+1,B);if((s="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(i="["+k.slice(0,r)+"]+")+"(?:\\."+i+")?$",37>r?"i":"").test(l))return v(c,l,s,r);s?(c.s=0>1/e?(l=l.slice(1),-1):1,z&&l.replace(/^0\.0*|\./,"").length>15&&N(L,C,e),s=!1):c.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1,l=n(l,10,r,c.s)}else{if(e instanceof t)return c.s=e.s,c.e=e.e,c.c=(e=e.c)?e.slice():e,void(L=0);if((s="number"==typeof e)&&0*e==0){if(c.s=0>1/e?(e=-e,-1):1,e===~~e){for(a=0,o=e;o>=10;o/=10,a++);return c.e=a,c.c=[e],void(L=0)}l=e+""}else{if(!y.test(l=e+""))return v(c,l,s);c.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1}}for((a=l.indexOf("."))>-1&&(l=l.replace(".","")),(o=l.search(/e/i))>0?(0>a&&(a=o),a+=+l.slice(o+1),l=l.substring(0,o)):0>a&&(a=l.length),o=0;48===l.charCodeAt(o);o++);for(u=l.length;48===l.charCodeAt(--u););if(l=l.slice(o,u+1))if(u=l.length,s&&z&&u>15&&N(L,C,c.s*e),a=a-o-1,a>q)c.c=c.e=null;else if(H>a)c.c=[c.e=0];else{if(c.e=a,c.c=[],o=(a+1)%_,0>a&&(o+=_),u>o){for(o&&c.c.push(+l.slice(0,o)),u-=_;u>o;)c.c.push(+l.slice(o,o+=_));l=l.slice(o),o=_-l.length}else o-=u;for(;o--;l+="0");c.c.push(+l)}else c.c=[c.e=0];L=0}function n(e,n,r,i){var a,o,u,l,c,f,p,m=e.indexOf("."),g=R,v=B;for(37>r&&(e=e.toLowerCase()),m>=0&&(u=V,V=0,e=e.replace(".",""),p=new t(r),c=p.pow(e.length-m),V=u,p.c=d(h(s(c.c),c.e),10,n),p.e=p.c.length),f=d(e,r,n),o=u=f.length;0==f[--u];f.pop());if(!f[0])return"0";if(0>m?--o:(c.c=f,c.e=o,c.s=i,c=F(c,p,g,v,n),f=c.c,l=c.r,o=c.e),a=o+g+1,m=f[a],u=n/2,l=l||0>a||null!=f[a+1],l=4>v?(null!=m||l)&&(0==v||v==(c.s<0?3:2)):m>u||m==u&&(4==v||l||6==v&&1&f[a-1]||v==(c.s<0?8:7)),1>a||!f[0])e=l?h("1",-g):"0";else{if(f.length=a,l)for(--n;++f[--a]>n;)f[a]=0,a||(++o,f.unshift(1));for(u=f.length;!f[--u];);for(m=0,e="";u>=m;e+=k.charAt(f[m++]));e=h(e,o)}return e}function r(e,n,r,i){var a,o,u,l,c;if(r=null!=r&&Y(r,0,8,i,E)?0|r:B,!e.c)return e.toString();if(a=e.c[0],u=e.e,null==n)c=s(e.c),c=19==i||24==i&&$>=u?f(c,u):h(c,u);else if(e=I(new t(e),n,r),o=e.e,c=s(e.c),l=c.length,19==i||24==i&&(o>=n||$>=o)){for(;n>l;c+="0",l++);c=f(c,o)}else if(n-=u,c=h(c,o),o+1>l){if(--n>0)for(c+=".";n--;c+="0");}else if(n+=o-l,n>0)for(o+1==l&&(c+=".");n--;c+="0");return e.s<0&&a?"-"+c:c}function i(e,n){var r,i,a=0;for(c(e[0])&&(e=e[0]),r=new t(e[0]);++a<e.length;){if(i=new t(e[a]),!i.s){r=i;break}n.call(r,i)&&(r=i)}return r}function m(e,t,n,r,i){return(t>e||e>n||e!=p(e))&&N(r,(i||"decimal places")+(t>e||e>n?" out of range":" not an integer"),e),!0}function P(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*_-1)>q?e.c=e.e=null:H>n?e.c=[e.e=0]:(e.e=n,e.c=t),e}function N(e,t,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw r.name="BigNumber Error",L=0,r}function I(e,t,n,r){var i,a,o,s,u,l,c,d=e.c,f=O;if(d){e:{for(i=1,s=d[0];s>=10;s/=10,i++);if(a=t-i,0>a)a+=_,o=t,u=d[l=0],c=u/f[i-o-1]%10|0;else if(l=b((a+1)/_),l>=d.length){if(!r)break e;for(;d.length<=l;d.push(0));u=c=0,i=1,a%=_,o=a-_+1}else{for(u=s=d[l],i=1;s>=10;s/=10,i++);a%=_,o=a-_+i,c=0>o?0:u/f[i-o-1]%10|0}if(r=r||0>t||null!=d[l+1]||(0>o?u:u%f[i-o-1]),r=4>n?(c||r)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(a>0?o>0?u/f[i-o]:0:d[l-1])%10&1||n==(e.s<0?8:7)),1>t||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[t%_],e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=l,s=1,l--):(d.length=l+1,s=f[_-a],d[l]=o>0?w(u/f[i-o]%f[o])*s:0),r)for(;;){if(0==l){for(a=1,o=d[0];o>=10;o/=10,a++);for(o=d[0]+=s,s=1;o>=10;o/=10,s++);a!=s&&(e.e++,d[0]==S&&(d[0]=1));break}if(d[l]+=s,d[l]!=S)break;d[l--]=0,s=1}for(a=d.length;0===d[--a];d.pop());}e.e>q?e.c=e.e=null:e.e<H&&(e.c=[e.e=0])}return e}var F,L=0,D=t.prototype,M=new t(1),R=20,B=4,$=-7,U=21,H=-1e7,q=1e7,z=!0,Y=m,W=!1,G=1,V=100,X={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0};return t.another=a,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=function(){var e,t,n=0,r={},i=arguments,a=i[0],o=a&&"object"==typeof a?function(){return a.hasOwnProperty(t)?null!=(e=a[t]):void 0}:function(){return i.length>n?null!=(e=i[n++]):void 0};return o(t="DECIMAL_PLACES")&&Y(e,0,j,2,t)&&(R=0|e),r[t]=R,o(t="ROUNDING_MODE")&&Y(e,0,8,2,t)&&(B=0|e),r[t]=B,o(t="EXPONENTIAL_AT")&&(c(e)?Y(e[0],-j,0,2,t)&&Y(e[1],0,j,2,t)&&($=0|e[0],U=0|e[1]):Y(e,-j,j,2,t)&&($=-(U=0|(0>e?-e:e)))),r[t]=[$,U],o(t="RANGE")&&(c(e)?Y(e[0],-j,-1,2,t)&&Y(e[1],1,j,2,t)&&(H=0|e[0],q=0|e[1]):Y(e,-j,j,2,t)&&(0|e?H=-(q=0|(0>e?-e:e)):z&&N(2,t+" cannot be zero",e))),r[t]=[H,q],o(t="ERRORS")&&(e===!!e||1===e||0===e?(L=0,Y=(z=!!e)?m:l):z&&N(2,t+x,e)),r[t]=z,o(t="CRYPTO")&&(e===!!e||1===e||0===e?(W=!(!e||!g||"object"!=typeof g),e&&!W&&z&&N(2,"crypto unavailable",g)):z&&N(2,t+x,e)),r[t]=W,o(t="MODULO_MODE")&&Y(e,0,9,2,t)&&(G=0|e),r[t]=G,o(t="POW_PRECISION")&&Y(e,0,j,2,t)&&(V=0|e),r[t]=V,o(t="FORMAT")&&("object"==typeof e?X=e:z&&N(2,t+" not an object",e)),r[t]=X,r},t.max=function(){return i(arguments,D.lt)},t.min=function(){return i(arguments,D.gt)},t.random=function(){var e=9007199254740992,n=Math.random()*e&2097151?function(){return w(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,i,a,o,s,u=0,l=[],c=new t(M);if(e=null!=e&&Y(e,0,j,14)?0|e:R,o=b(e/_),W)if(g&&g.getRandomValues){for(r=g.getRandomValues(new Uint32Array(o*=2));o>u;)s=131072*r[u]+(r[u+1]>>>11),s>=9e15?(i=g.getRandomValues(new Uint32Array(2)),r[u]=i[0],r[u+1]=i[1]):(l.push(s%1e14),u+=2);u=o/2}else if(g&&g.randomBytes){for(r=g.randomBytes(o*=7);o>u;)s=281474976710656*(31&r[u])+1099511627776*r[u+1]+4294967296*r[u+2]+16777216*r[u+3]+(r[u+4]<<16)+(r[u+5]<<8)+r[u+6],s>=9e15?g.randomBytes(7).copy(r,u):(l.push(s%1e14),u+=7);u=o/7}else z&&N(14,"crypto unavailable",g);if(!u)for(;o>u;)s=n(),9e15>s&&(l[u++]=s%1e14);for(o=l[--u],e%=_,o&&e&&(s=O[_-e],l[u]=w(o/s)*s);0===l[u];l.pop(),u--);if(0>u)l=[a=0];else{for(a=-1;0===l[0];l.shift(),a-=_);for(u=1,s=l[0];s>=10;s/=10,u++);_>u&&(a-=_-u)}return c.e=a,c.c=l,c}}(),F=function(){function e(e,t,n){var r,i,a,o,s=0,u=e.length,l=t%T,c=t/T|0;for(e=e.slice();u--;)a=e[u]%T,o=e[u]/T|0,r=c*a+o*l,i=l*a+r%T*T+s,s=(i/n|0)+(r/T|0)+c*o,e[u]=i%n;return s&&e.unshift(s),e}function n(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;n>i;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.shift());}return function(i,a,s,u,l){var c,d,f,h,p,m,g,v,y,b,x,E,C,k,A,O,T,j=i.s==a.s?1:-1,P=i.c,N=a.c;if(!(P&&P[0]&&N&&N[0]))return new t(i.s&&a.s&&(P?!N||P[0]!=N[0]:N)?P&&0==P[0]||!N?0*j:j/0:NaN);for(v=new t(j),y=v.c=[],d=i.e-a.e,j=s+d+1,l||(l=S,d=o(i.e/_)-o(a.e/_),j=j/_|0),f=0;N[f]==(P[f]||0);f++);if(N[f]>(P[f]||0)&&d--,0>j)y.push(1),h=!0;else{for(k=P.length,O=N.length,f=0,j+=2,p=w(l/(N[0]+1)),p>1&&(N=e(N,p,l),P=e(P,p,l),O=N.length,k=P.length),C=O,b=P.slice(0,O),x=b.length;O>x;b[x++]=0);T=N.slice(),T.unshift(0),A=N[0],N[1]>=l/2&&A++;do{if(p=0,c=n(N,b,O,x),0>c){if(E=b[0],O!=x&&(E=E*l+(b[1]||0)),p=w(E/A),p>1)for(p>=l&&(p=l-1),m=e(N,p,l),g=m.length,x=b.length;1==n(m,b,g,x);)p--,r(m,g>O?T:N,g,l),g=m.length,c=1;else 0==p&&(c=p=1),m=N.slice(),g=m.length;if(x>g&&m.unshift(0),r(b,m,x,l),x=b.length,-1==c)for(;n(N,b,O,x)<1;)p++,r(b,x>O?T:N,x,l),x=b.length}else 0===c&&(p++,b=[0]);y[f++]=p,b[0]?b[x++]=P[C]||0:(b=[P[C]],x=1)}while((C++<k||null!=b[0])&&j--);h=null!=b[0],y[0]||y.shift()}if(l==S){for(f=1,j=y[0];j>=10;j/=10,f++);I(v,s+(v.e=f+d*_-1)+1,u,h)}else v.e=d,v.r=+h;return v}}(),v=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,r=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,u,l){var c,d=u?s:s.replace(a,"");if(i.test(d))o.s=isNaN(d)?null:0>d?-1:1;else{if(!u&&(d=d.replace(e,function(e,t,n){return c="x"==(n=n.toLowerCase())?16:"b"==n?2:8,l&&l!=c?e:t}),l&&(c=l,d=d.replace(n,"$1").replace(r,"0.$1")),s!=d))return new t(d,c);z&&N(L,"not a"+(l?" base "+l:"")+" number",s),o.s=null}o.c=o.e=null,L=0}}(),D.absoluteValue=D.abs=function(){var e=new t(this);return e.s<0&&(e.s=1),e},D.ceil=function(){return I(new t(this),this.e+1,2)},D.comparedTo=D.cmp=function(e,n){return L=1,u(this,new t(e,n))},D.decimalPlaces=D.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-o(this.e/_))*_,t=n[t])for(;t%10==0;t/=10,e--);return 0>e&&(e=0),e},D.dividedBy=D.div=function(e,n){return L=3,F(this,new t(e,n),R,B)},D.dividedToIntegerBy=D.divToInt=function(e,n){return L=4,F(this,new t(e,n),0,1)},D.equals=D.eq=function(e,n){return L=5,0===u(this,new t(e,n))},D.floor=function(){return I(new t(this),this.e+1,3)},D.greaterThan=D.gt=function(e,n){return L=6,u(this,new t(e,n))>0},D.greaterThanOrEqualTo=D.gte=function(e,n){return L=7,1===(n=u(this,new t(e,n)))||0===n},D.isFinite=function(){return!!this.c},D.isInteger=D.isInt=function(){return!!this.c&&o(this.e/_)>this.c.length-2},D.isNaN=function(){return!this.s},D.isNegative=D.isNeg=function(){return this.s<0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.lessThan=D.lt=function(e,n){return L=8,u(this,new t(e,n))<0},D.lessThanOrEqualTo=D.lte=function(e,n){return L=9,-1===(n=u(this,new t(e,n)))||0===n},D.minus=D.sub=function(e,n){var r,i,a,s,u=this,l=u.s;if(L=10,e=new t(e,n),n=e.s,!l||!n)return new t(NaN);if(l!=n)return e.s=-n,u.plus(e);var c=u.e/_,d=e.e/_,f=u.c,h=e.c;if(!c||!d){if(!f||!h)return f?(e.s=-n,e):new t(h?u:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-n,e):new t(f[0]?u:3==B?-0:0)}if(c=o(c),d=o(d),f=f.slice(),l=c-d){for((s=0>l)?(l=-l,a=f):(d=c,a=h),a.reverse(),n=l;n--;a.push(0));a.reverse()}else for(i=(s=(l=f.length)<(n=h.length))?l:n,l=n=0;i>n;n++)if(f[n]!=h[n]){s=f[n]<h[n];break}if(s&&(a=f,f=h,h=a,e.s=-e.s),n=(i=h.length)-(r=f.length),n>0)for(;n--;f[r++]=0);for(n=S-1;i>l;){if(f[--i]<h[i]){for(r=i;r&&!f[--r];f[r]=n);--f[r],f[i]+=S}f[i]-=h[i]}for(;0==f[0];f.shift(),--d);return f[0]?P(e,f,d):(e.s=3==B?-1:1,e.c=[e.e=0],e)},D.modulo=D.mod=function(e,n){var r,i,a=this;return L=11,e=new t(e,n),!a.c||!e.s||e.c&&!e.c[0]?new t(NaN):!e.c||a.c&&!a.c[0]?new t(a):(9==G?(i=e.s,e.s=1,r=F(a,e,0,3),e.s=i,r.s*=i):r=F(a,e,0,G),a.minus(r.times(e)))},D.negated=D.neg=function(){var e=new t(this);return e.s=-e.s||null,e},D.plus=D.add=function(e,n){var r,i=this,a=i.s;if(L=12,e=new t(e,n),n=e.s,!a||!n)return new t(NaN);if(a!=n)return e.s=-n,i.minus(e);var s=i.e/_,u=e.e/_,l=i.c,c=e.c;if(!s||!u){if(!l||!c)return new t(a/0);if(!l[0]||!c[0])return c[0]?e:new t(l[0]?i:0*a)}if(s=o(s),u=o(u),l=l.slice(),a=s-u){for(a>0?(u=s,r=c):(a=-a,r=l),r.reverse();a--;r.push(0));r.reverse()}for(a=l.length,n=c.length,0>a-n&&(r=c,c=l,l=r,n=a),a=0;n;)a=(l[--n]=l[n]+c[n]+a)/S|0,l[n]%=S;return a&&(l.unshift(a),++u),P(e,l,u)},D.precision=D.sd=function(e){var t,n,r=this,i=r.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(z&&N(13,"argument"+x,e),e!=!!e&&(e=null)),!i)return null;if(n=i.length-1,t=n*_+1,n=i[n]){for(;n%10==0;n/=10,t--);for(n=i[0];n>=10;n/=10,t++);}return e&&r.e+1>t&&(t=r.e+1),t},D.round=function(e,n){var r=new t(this);return(null==e||Y(e,0,j,15))&&I(r,~~e+this.e+1,null!=n&&Y(n,0,8,15,E)?0|n:B),r},D.shift=function(e){var n=this;return Y(e,-A,A,16,"argument")?n.times("1e"+p(e)):new t(n.c&&n.c[0]&&(-A>e||e>A)?n.s*(0>e?0:1/0):n)},D.squareRoot=D.sqrt=function(){var e,n,r,i,a,u=this,l=u.c,c=u.s,d=u.e,f=R+4,h=new t("0.5");if(1!==c||!l||!l[0])return new t(!c||0>c&&(!l||l[0])?NaN:l?u:1/0);if(c=Math.sqrt(+u),0==c||c==1/0?(n=s(l),(n.length+d)%2==0&&(n+="0"),c=Math.sqrt(n),d=o((d+1)/2)-(0>d||d%2),c==1/0?n="1e"+d:(n=c.toExponential(),n=n.slice(0,n.indexOf("e")+1)+d),r=new t(n)):r=new t(c+""),r.c[0])for(d=r.e,c=d+f,3>c&&(c=0);;)if(a=r,r=h.times(a.plus(F(u,a,f,1))),s(a.c).slice(0,c)===(n=s(r.c)).slice(0,c)){if(r.e<d&&--c,n=n.slice(c-3,c+1),"9999"!=n&&(i||"4999"!=n)){(!+n||!+n.slice(1)&&"5"==n.charAt(0))&&(I(r,r.e+R+2,1),e=!r.times(r).eq(u));break}if(!i&&(I(a,a.e+R+2,0),a.times(a).eq(u))){r=a;break}f+=4,c+=4,i=1}return I(r,r.e+R+1,B,e)},D.times=D.mul=function(e,n){var r,i,a,s,u,l,c,d,f,h,p,m,g,v,y,b=this,w=b.c,x=(L=17,e=new t(e,n)).c;if(!(w&&x&&w[0]&&x[0]))return!b.s||!e.s||w&&!w[0]&&!x||x&&!x[0]&&!w?e.c=e.e=e.s=null:(e.s*=b.s,w&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=o(b.e/_)+o(e.e/_),e.s*=b.s,c=w.length,h=x.length,h>c&&(g=w,w=x,x=g,a=c,c=h,h=a),a=c+h,g=[];a--;g.push(0));for(v=S,y=T,a=h;--a>=0;){for(r=0,p=x[a]%y,m=x[a]/y|0,u=c,s=a+u;s>a;)d=w[--u]%y,f=w[u]/y|0,l=m*d+f*p,d=p*d+l%y*y+g[s]+r,r=(d/v|0)+(l/y|0)+m*f,g[s--]=d%v;g[s]=r}return r?++i:g.shift(),P(e,g,i)},D.toDigits=function(e,n){var r=new t(this);return e=null!=e&&Y(e,1,j,18,"precision")?0|e:null,n=null!=n&&Y(n,0,8,18,E)?0|n:B,e?I(r,e,n):r},D.toExponential=function(e,t){return r(this,null!=e&&Y(e,0,j,19)?~~e+1:null,t,19)},D.toFixed=function(e,t){return r(this,null!=e&&Y(e,0,j,20)?~~e+this.e+1:null,t,20)},D.toFormat=function(e,t){var n=r(this,null!=e&&Y(e,0,j,21)?~~e+this.e+1:null,t,21);if(this.c){var i,a=n.split("."),o=+X.groupSize,s=+X.secondaryGroupSize,u=X.groupSeparator,l=a[0],c=a[1],d=this.s<0,f=d?l.slice(1):l,h=f.length;if(s&&(i=o,o=s,s=i,h-=i),o>0&&h>0){for(i=h%o||o,l=f.substr(0,i);h>i;i+=o)l+=u+f.substr(i,o);s>0&&(l+=u+f.slice(i)),d&&(l="-"+l)}n=c?l+X.decimalSeparator+((s=+X.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+X.fractionGroupSeparator):c):l}return n},D.toFraction=function(e){var n,r,i,a,o,u,l,c,d,f=z,h=this,p=h.c,m=new t(M),g=r=new t(M),v=l=new t(M);if(null!=e&&(z=!1,u=new t(e),z=f,(!(f=u.isInt())||u.lt(M))&&(z&&N(22,"max denominator "+(f?"out of range":"not an integer"),e),e=!f&&u.c&&I(u,u.e+1,1).gte(M)?u:null)),!p)return h.toString();for(d=s(p),a=m.e=d.length-h.e-1,m.c[0]=O[(o=a%_)<0?_+o:o],e=!e||u.cmp(m)>0?a>0?m:g:u,o=q,q=1/0,u=new t(d),l.c[0]=0;c=F(u,m,0,1),i=r.plus(c.times(v)),1!=i.cmp(e);)r=v,v=i,g=l.plus(c.times(i=g)),l=i,m=u.minus(c.times(i=m)),u=i;return i=F(e.minus(r),v,0,1),l=l.plus(i.times(g)),r=r.plus(i.times(v)),l.s=g.s=h.s,a*=2,n=F(g,v,a,B).minus(h).abs().cmp(F(l,r,a,B).minus(h).abs())<1?[g.toString(),v.toString()]:[l.toString(),r.toString()],q=o,n},D.toNumber=function(){var e=this;return+e||(e.s?0*e.s:NaN)},D.toPower=D.pow=function(e){var n,r,i=w(0>e?-e:+e),a=this;if(!Y(e,-A,A,23,"exponent")&&(!isFinite(e)||i>A&&(e/=0)||parseFloat(e)!=e&&!(e=NaN)))return new t(Math.pow(+a,e));for(n=V?b(V/_+2):0,r=new t(M);;){if(i%2){if(r=r.times(a),!r.c)break;n&&r.c.length>n&&(r.c.length=n)}if(i=w(i/2),!i)break;a=a.times(a),n&&a.c&&a.c.length>n&&(a.c.length=n)}return 0>e&&(r=M.div(r)),n?I(r,V,B):r},D.toPrecision=function(e,t){return r(this,null!=e&&Y(e,1,j,24,"precision")?0|e:null,t,24)},D.toString=function(e){var t,r=this,i=r.s,a=r.e;return null===a?i?(t="Infinity",0>i&&(t="-"+t)):t="NaN":(t=s(r.c),t=null!=e&&Y(e,2,64,25,"base")?n(h(t,a),0|e,10,i):$>=a||a>=U?f(t,a):h(t,a),0>i&&r.c[0]&&(t="-"+t)),t},D.truncated=D.trunc=function(){return I(new t(this),this.e+1,1)},D.valueOf=D.toJSON=function(){return this.toString()},null!=e&&t.config(e),t}function o(e){var t=0|e;return e>0||e===t?t:t-1}function s(e){for(var t,n,r=1,i=e.length,a=e[0]+"";i>r;){for(t=e[r++]+"",n=_-t.length;n--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function u(e,t){var n,r,i=e.c,a=t.c,o=e.s,s=t.s,u=e.e,l=t.e;if(!o||!s)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-s:o;if(o!=s)return o;if(n=0>o,r=u==l,!i||!a)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(s=(u=i.length)<(l=a.length)?u:l,o=0;s>o;o++)if(i[o]!=a[o])return i[o]>a[o]^n?1:-1;return u==l?0:u>l^n?1:-1}function l(e,t,n){return(e=p(e))>=t&&n>=e}function c(e){return"[object Array]"==Object.prototype.toString.call(e)}function d(e,t,n){for(var r,i,a=[0],o=0,s=e.length;s>o;){for(i=a.length;i--;a[i]*=t);for(a[r=0]+=k.indexOf(e.charAt(o++));r<a.length;r++)a[r]>n-1&&(null==a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}function f(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(0>t?"e":"e+")+t}function h(e,t){var n,r;if(0>t){for(r="0.";++t;r+="0");e=r+e}else if(n=e.length,++t>n){for(r="0",t-=n;--t;r+="0");e+=r}else n>t&&(e=e.slice(0,t)+"."+e.slice(t));return e}function p(e){return e=parseFloat(e),0>e?b(e):w(e)}/*
	      bignumber.js v2.0.7
	      A JavaScript library for arbitrary-precision arithmetic.
	      https://github.com/MikeMcl/bignumber.js
	      Copyright (c) 2015 Michael Mclaughlin <M8ch88l@gmail.com>
	      MIT Expat Licence
	    */
var m,g,v,y=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,b=Math.ceil,w=Math.floor,x=" not a boolean or binary digit",E="rounding mode",C="number type has more than 15 significant digits",k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",S=1e14,_=14,A=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],T=1e7,j=1e9;m=a(),r=function(){return m}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t,n){(function(e){function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?r(this,t):"string"==typeof t?i(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function r(t,n){if(t=d(t,0>n?0:0|f(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)t[r]=0;return t}function i(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|p(t,n);return e=d(e,r),e.write(t,n),e}function a(t,n){if(e.isBuffer(n))return o(t,n);if(Y(n))return s(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer?u(t,n):n.length?l(t,n):c(t,n)}function o(e,t){var n=0|f(t.length);return e=d(e,n),t.copy(e,0,0,n),e}function s(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function u(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function l(e,t){var n=0|f(t.length);e=d(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function c(e,t){var n,r=0;"Buffer"===t.type&&Y(t.data)&&(n=t.data,r=0|f(n.length)),e=d(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function d(t,n){e.TYPED_ARRAY_SUPPORT?t=e._augment(new Uint8Array(n)):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=G),t}function f(e){if(e>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|e}function h(t,n){if(!(this instanceof h))return new h(t,n);var r=new e(t,n);return delete r.parent,r}function p(e,t){if("string"!=typeof e&&(e=String(e)),0===e.length)return 0;switch(t||"utf8"){case"ascii":case"binary":case"raw":return e.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e.length;case"hex":return e.length>>>1;case"utf8":case"utf-8":return M(e).length;case"base64":return $(e).length;default:return e.length}}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;r>o;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+o]=s}return o}function g(e,t,n,r){return U(M(t,e.length-n),e,n,r)}function v(e,t,n,r){return U(R(t),e,n,r)}function y(e,t,n,r){return v(e,t,n,r)}function b(e,t,n,r){return U($(t),e,n,r)}function w(e,t,n,r){return U(B(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?q.fromByteArray(e):q.fromByteArray(e.slice(t,n))}function E(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var a=t;n>a;a++)e[a]<=127?(r+=H(i)+String.fromCharCode(e[a]),i=""):i+="%"+e[a].toString(16);return r+H(i)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function S(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",a=t;n>a;a++)i+=D(e[a]);return i}function _(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function A(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,n,r,i,a,o){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>a||o>n)throw new RangeError("value is out of bounds");if(r+i>t.length)throw new RangeError("index out of range")}function T(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);a>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);a>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,a){if(t>i||a>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function N(e,t,n,r,i){return i||P(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),z.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,i){return i||P(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),z.write(e,t,n,r,52,8),n+8}function F(e){if(e=L(e).replace(X,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function L(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function D(e){return 16>e?"0"+e.toString(16):e.toString(16)}function M(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;r>o;o++){if(n=e.charCodeAt(o),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((t-=3)>-1&&a.push(239,191,189),i=null);if(128>n){if((t-=1)<0)break;a.push(n)}else if(2048>n){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function R(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function B(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);o++)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function $(e){return q.toByteArray(F(e))}function U(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function H(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var q=n(17),z=n(18),Y=n(16);t.Buffer=e,t.SlowBuffer=h,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var W=1073741823,G={};e.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,a=0,o=Math.min(r,i);o>a&&t[a]===n[a];)++a;return a!==o&&(r=t[a],i=n[a]),i>r?-1:r>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Y(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);if(1===t.length)return t[0];var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var i=new e(n),a=0;for(r=0;r<t.length;r++){var o=t[r];o.copy(i,a),a+=o.length}return i},e.byteLength=p,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return C(this,t,n);case"binary":return k(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return v(this,e,t,n);case"binary":return y(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,n));else{var a=n-t;i=new e(a,void 0);for(var o=0;a>o;o++)i[o]=this[o+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),z.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),z.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),z.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),z.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||O(this,e,t,n,Math.pow(2,8*n),0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||O(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):T(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):T(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t):j(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):j(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=0,o=1,s=0>e?1:0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):T(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):T(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||O(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):j(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var a=i-r;if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(var o=0;a>o;o++)t[o+n]=this[o+r];else t._set(this.subarray(r,r+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=M(e.toString()),a=i.length;for(r=t;n>r;r++)this[r]=i[r%a]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;r>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var V=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=V.get,t.set=V.set,t.write=V.write,t.toString=V.toString,t.toLocaleString=V.toString,t.toJSON=V.toJSON,t.equals=V.equals,t.compare=V.compare,t.indexOf=V.indexOf,t.copy=V.copy,t.slice=V.slice,t.readUIntLE=V.readUIntLE,t.readUIntBE=V.readUIntBE,t.readUInt8=V.readUInt8,t.readUInt16LE=V.readUInt16LE,t.readUInt16BE=V.readUInt16BE,t.readUInt32LE=V.readUInt32LE,t.readUInt32BE=V.readUInt32BE,t.readIntLE=V.readIntLE,t.readIntBE=V.readIntBE,t.readInt8=V.readInt8,t.readInt16LE=V.readInt16LE,t.readInt16BE=V.readInt16BE,t.readInt32LE=V.readInt32LE,t.readInt32BE=V.readInt32BE,t.readFloatLE=V.readFloatLE,t.readFloatBE=V.readFloatBE,t.readDoubleLE=V.readDoubleLE,t.readDoubleBE=V.readDoubleBE,t.writeUInt8=V.writeUInt8,t.writeUIntLE=V.writeUIntLE,t.writeUIntBE=V.writeUIntBE,t.writeUInt16LE=V.writeUInt16LE,t.writeUInt16BE=V.writeUInt16BE,t.writeUInt32LE=V.writeUInt32LE,t.writeUInt32BE=V.writeUInt32BE,t.writeIntLE=V.writeIntLE,t.writeIntBE=V.writeIntBE,t.writeInt8=V.writeInt8,t.writeInt16LE=V.writeInt16LE,t.writeInt16BE=V.writeInt16BE,t.writeInt32LE=V.writeInt32LE,t.writeInt32BE=V.writeInt32BE,t.writeFloatLE=V.writeFloatLE,t.writeFloatBE=V.writeFloatBE,t.writeDoubleLE=V.writeDoubleLE,t.writeDoubleBE=V.writeDoubleBE,t.fill=V.fill,t.inspect=V.inspect,t.toArrayBuffer=V.toArrayBuffer,t};var X=/[^+\/0-9A-z\-]/g}).call(t,n(13).Buffer)},function(e,t,n){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=r},function(e,t,n){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;4>a;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===d?62:t===s||t===f?63:u>t?-1:u+10>t?t-u+26+26:c+26>t?t-c:l+26>t?t-l+26:void 0}function n(e){function n(e){l[d++]=e}var r,i,o,s,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new a(3*e.length/4-u),o=u>0?e.length-4:e.length;var d=0;for(r=0,i=0;o>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,a,o,s=e.length%3,u="";for(i=0,o=e.length-s;o>i;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(a);switch(s){case 1:a=e[e.length-1],u+=t(a>>2),u+=t(a<<4&63),u+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1],u+=t(a>>10),u+=t(a>>4&63),u+=t(a<<2&63),u+="="}return u}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}(t)},function(e,t,n){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+h]=255&o,h+=p,o/=256,l-=8);e[n+h-p]|=128*m}}])}),function(e){"use strict";var t=6e4,n=function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},r=function(e){return n(e.end?e.end:new Date(e.start.getTime()+e.duration*t))},i={google:function(e){var t=n(e.start),i=r(e),a=encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(e.title||""),"&dates="+(t||""),"/"+(i||""),"&details="+(e.description||""),"&location="+(e.address||""),"&sprop=&sprop=name:"].join(""));return'<a target="_blank" class="cal1" href="'+a+'">Google Calendar</a>'},yahoo:function(e){var r=e.end?(e.end.getTime()-e.start.getTime())/t:e.duration,i=600>r?"0"+Math.floor(r/60):Math.floor(r/60)+"",a=10>r%60?"0"+r%60:r%60+"",o=i+a,s=n(new Date(e.start-e.start.getTimezoneOffset()*t))||"",u=encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(e.title||""),"&st="+s,"&dur="+(o||""),"&desc="+(e.description||""),"&in_loc="+(e.address||"")].join(""));return'<a target="_blank" class="cal" href="'+u+'">Yahoo! Calendar</a>'},ics:function(e,t,i){var a=n(e.start),o=r(e),s=encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VTIMEZONE","TZID:America/Los_Angeles","X-LIC-LOCATION:America/Los_Angeles","BEGIN:DAYLIGHT","TZOFFSETFROM:-0800","TZOFFSETTO:-0700","TZNAME:PDT","DTSTART:19700308T020000","RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU","END:DAYLIGHT","BEGIN:STANDARD","TZOFFSETFROM:-0700","TZOFFSETTO:-0800","TZNAME:PST","DTSTART:19701101T020000","RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU","END:STANDARD","END:VTIMEZONE","BEGIN:VEVENT","URL: https://www.udacity.com/talks","DTSTART;TZID=America/Los_Angeles:"+(a||""),"DTEND;TZID=America/Los_Angeles:"+(o||""),"SUMMARY:"+(e.title||""),"DESCRIPTION:"+(e.description||""),"LOCATION:"+(e.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"));return'<a class="'+t+'" target="_blank" href="'+s+'">'+i+" Calendar</a>"},ical:function(e){return this.ics(e,"cal","iCal")},outlook:function(e){return this.ics(e,"cal4","Outlook")}},a=function(e){return{google:i.google(e),yahoo:i.yahoo(e),ical:i.ical(e),outlook:i.outlook(e)}},o=function(){document.getElementById("ouical-css")||document.getElementsByTagName("head")[0].appendChild(s())},s=function(){var e=document.createElement("style");return e.id="ouical-css",e.innerHTML="#add-to-calendar-checkbox-label{cursor:pointer}.add-to-calendar-checkbox~a{display:none}.add-to-calendar-checkbox:checked~a{display:block;}input[type=checkbox].add-to-calendar-checkbox{display:none;}",e},u=function(e){return void 0!==e.data&&void 0!==e.data.start&&(void 0!==e.data.end||void 0!==e.data.duration)},l=function(e,t,n){var r=document.createElement("div");return r.innerHTML='<label for="checkbox-for-'+n+'" class="add-to-calendar-checkbox">Add to Calendar</label>',r.innerHTML+='<input name="add-to-calendar-checkbox" class="add-to-calendar-checkbox" id="checkbox-for-'+n+'" type="checkbox">',Object.keys(e).forEach(function(t){r.innerHTML+=e[t]}),r.className="add-to-calendar",void 0!==t&&(r.className+=" "+t),o(),r.id=n,r},c=function(e){return e.options&&e.options["class"]?e.options["class"]:void 0},d=function(e){return e.options&&e.options.id?e.options.id:Math.floor(1e6*Math.random())};e.createCalendar=function(e){return u(e)?l(a(e.data),c(e),d(e)):void console.log("Event details missing.")}}(this),function(){"use strict";$(function(){$("[data-page-scroller]").each(function(){var e=$(this),t=e.data("page-scroller");e.click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(t).offset().top},1200)}),e.css("cursor","pointer")})})}(),$(document).ready(function(){"use strict";$(".enrollment_card .more").readmore({speed:75,lessLink:'<a href="#">See Less</a>',moreLink:'<a href="#">See More</a>'}),$(".requirements .more").readmore({speed:75,lessLink:'<a href="#">See Less</a>',moreLink:'<a href="#">See More</a>',beforeToggle:function(){$(".more").removeClass("fade")},afterToggle:function(e,t,n){n||($("html, body").animate({scrollTop:t.offset().top},{duration:1e3}),$(".more").addClass("fade"))}}),$(document).on("closing",".video",function(){$("#video").attr("src","")}),$(".nanodegrees-list .more").readmore({embedCSS:!1,speed:75,collapsedHeight:840,lessLink:'<a href="#">View Less Nanodegree Programs</a>',moreLink:'<a href="#">View All Nanodegree Programs</a>'}),$(".faq_teaser .more").readmore({embedCSS:!1,collapsedHeight:650,lessLink:'<a href="#">View Less FAQ</a>',moreLink:'<a href="#">View More FAQ</a>'}),$(".close_banner").click(function(e){$(".top_banner, .banner").slideUp(),$(".page-github.success").css("margin-top","0px"),e.preventDefault()}),$(".nav_toggle").click(function(e){$("nav").toggleClass("nav--on"),e.preventDefault()}),$(".footer_nav_toggle h3").click(function(e){$(this).parent().toggleClass("nav--on"),e.preventDefault()}),$(".filter_toggle").click(function(e){$(".fields_contain").toggleClass("filter--on"),e.preventDefault()}),$(".view_toggle .grid").click(function(e){$(this).addClass("active"),$(".view_toggle .list").removeClass("active"),$(".category_block").removeClass("list--on"),$(".category_block").addClass("grid--on"),e.preventDefault()}),$(".view_toggle .list").click(function(e){$(this).addClass("active"),$(".view_toggle .grid").removeClass("active"),$(".category_block").removeClass("grid--on"),$(".category_block").addClass("list--on"),e.preventDefault()}),$(".signup_tab a").click(function(e){$(".signup_contain").removeClass("signin--on"),$(".signup_contain").addClass("signup--on"),e.preventDefault()}),$(".signin_tab a").click(function(e){$(".signup_contain").removeClass("signup--on"),$(".signup_contain").addClass("signin--on"),e.preventDefault()}),$(".what_get_tab a").click(function(e){$(".tabs_contain").removeClass("what_is--on"),$(".tabs_contain").addClass("what_get--on"),e.preventDefault()}),$(".what_is_tab a").click(function(e){$(".tabs_contain").removeClass("what_get--on"),$(".tabs_contain").addClass("what_is--on"),e.preventDefault()}),$(".message_toggle").click(function(e){$(".message_contain").addClass("message--on"),e.preventDefault()}),$(".message_close").click(function(e){$(".message_contain").removeClass("message--on"),e.preventDefault()}),$(".enroll_next").click(function(e){$(".enroll_form").addClass("step_two--on"),e.preventDefault()}),$(".credit_card").click(function(e){$(".credit_card_type").addClass("visa"),e.preventDefault()}),$(document).on("click",function(e){$(e.target).hasClass("tooltip")||$(".tooltip").removeClass("tooltip--on")}),$(".tooltip").click(function(e){$(this).toggleClass("tooltip--on"),e.preventDefault()}),$(".style_select").ddslick({imagePosition:"left"}),$(".nanodegree_cards").viewportChecker({classToAdd:"visible"}),$(".nd_slider").flexslider({animation:"fade"}),$(".arrow_slider").flexslider({animation:"slide"}),$(".big_slider").flexslider({animation:"slide"}),$(".scroll_pane").each(function(){$(this).jScrollPane({showArrows:$(this).is(".arrow"),hideFocus:!0,animateScroll:!0,animateEase:"swing",animateDuration:200,keyboardSpeed:120});var e,t=$(this).data("jsp");$(window).bind("resize",function(){e||(e=setTimeout(function(){t.reinitialise(),e=null},50))})}),$(window).bind("load resize",function(){$(".tooltip_content").each(function(){var e=$(this).offset(),t=$(this).width()+24,n=$(window).width()-e.left;t>n?$(this).parent().addClass("right"):$(this).parent().removeClass("right"),e.left<24?$(this).parent().addClass("left"):$(this).parent().removeClass("left")})})}),"undefined"==typeof services&&(services={}),function(e){"use strict";var t="//www.udacity.com/account/auth#!/signup?next=https:%2F%2Fclassroom.udacity.com%2Fcourses%2Fcs101&enroll=cs101";e(function(){if(e("body.page-learn.python").length){var n=e(".terminal"),r=e(".panel-wrapper"),i=e(".step"),a=e(".success-modal").remodal(),o=function(){return parseInt(e(i.filter(".active")[0]).data("step"))},s=function(e){i.removeClass("active"),r.find('[data-step="'+e+'"]').addClass("active")},u=function(){a.open(),setTimeout(function(){a.close()},1e3)},l=function(e){return'<p class="output">'+e+"</p>"},c=function(){return l("Please follow the instructions...")},d={print:function(e){e.shift();var t,n=e.join("");try{switch(t=n,o()){case 0:"42"===n&&(u(),s(1));break;case 1:n.match(/^".*"$/i)&&(u(),s(2));break;case 2:if(n.match(/\[x\+1forxinrange\(10\)\]/i))return u(),s(3),l("[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]")}try{return l(JSON.parse(t))}catch(r){return console.log(r),c()}}catch(r){return console.log(r),c()}},"hello()":function(e){return e.join("").match(/^hello\(\)$/)&&3===o()?(u(),s(4),l("Hello, world!")):c()},"Classroom().enter()":function(){return window.location.href=t,l("Taking you to the classroom! \\o/")},_step:function(e){return s(e[1]),l("[DEBUG] showing step: "+e[1])},_success:function(){return u(),l("[DEBUG] success modal")},fallback:function(){return c()}};n.find(".input").focus(),n.on("click",function(){n.find(".input").focus()}),Terminal.init(document.getElementById("terminal"),d)}})}(jQuery),function(){"use strict";function e(e){return/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}var t=5e3,n="auto_redirect_to";$(function(){var r,i=$.urlParam(n);"undefined"!=typeof i&&i.length&&(r=decodeURIComponent(i),e(r)?setTimeout(function(){window.location.href=r},t):console.error("url "+r+" is not a valid URL."))})}(jQuery),function(e){"use strict";function t(e){return JSON.parse(e.split("\n").slice(-1).pop())}var n={};n.sanitize=t;var r=!1;n.getPromise=function(e,n){return new Promise(function(i,a){$.ajax({dataFilter:t,dataType:"text",type:"GET",xhrFields:{withCredentials:n},url:e}).done(function(t){r&&console.log("GET:",e,t),i(t)}).fail(function(t,n,i){r&&console.log("GET:",e,i),a(i)})})},n.postPromise=function(e,n){return new Promise(function(i,a){$.ajax({type:"POST",data:JSON.stringify(n),dataFilter:t,dataType:"text",url:e}).done(function(t){r&&console.log("POST:",e,t),i(t)}).fail(function(t,n,i){r&&console.log("POST:",e,i),a(i)})})},e.ajax=n}(services),function(e,t){"use strict";var n=function(){var e="coupon_key",n=7;return{autoSet:function(){var r=$.urlParam("coupon");"undefined"!=typeof r&&t.set(e,r,{expires:n})},clear:function(){t.remove(e)},get:function(){return t.get(e)},present:function(){return"undefined"!=typeof t.get(e)},set:function(r){t.set(e,r,{expires:n})}}}();e.Coupons=n,$(document).ready(n.autoSet)}(services,Cookies),function(e,t,n){"use strict";var r=!1,i="/",a=i+"api/products/fromNode/",o=!1,s={USD:{denomination:100,options:{symbol:"$",decimal:".",thousand:",",precision:0,format:"%s%v USD",conversion:1}},INR:{denomination:100,options:{symbol:"\u20b9",decimal:".",thousand:",",precision:0,format:"%s%v",conversion:.015}},GBP:{denomination:100,options:{symbol:"\xa3",decimal:".",thousand:",",precision:0,format:"%s%v",conversion:1.42}},EUR:{denomination:100,options:{symbol:"\u20ac",decimal:",",thousand:".",precision:0,format:"%s%v",conversion:1.12}},CHF:{denomination:100,options:{symbol:"CHF ",decimal:".",thousand:"'",precision:0,format:"%s%v",conversion:1.05}},CNY:{denomination:100,options:{symbol:"\xa5",decimal:".",thousand:",",precision:0,format:"%s%v CNY",conversion:.15}}},u={US:"USD",IN:"INR",GB:"GBP",DE:"EUR",CH:"CHF",AT:"EUR",CN:"CNY","default":"USD"};"localhost"===location.hostname&&(i="https://www.udacity.com/",a=i+"api/products/fromNode/",o=!0),e.Payments=function(o,l){var c=this;c.data={},c.options=l||{nodeKey:null,couponKey:null,variant:null,currency:null,track:!1},c.node=o||{},c.nodeKey=c.options.nodeKey||c.node.key,c.couponKey=c.options.couponKey||e.Coupons.get(),c.variant=c.options.variant,c.currency=c.options.currency,c.initialize=function(t){return"undefined"!=typeof c.nodeKey?e.users.getSession().then(function(n){n.account&&n.account.registered?e.users.getCurrencyPreference()["catch"](c.getGeolocatedCurrency).then(function(e){var t={coupon:c.couponKey,variant:c.variant,currency:e};return c.fetchData(c.nodeKey,t,!0)}).then(function(e){c.trackRegistered(e),t(e)})["catch"](function(e){t(e)}):c.getGeolocatedCurrency().then(function(e){var t={coupon:c.couponKey,variant:c.variant,currency:e};return c.fetchData(c.nodeKey,t,!1)},function(){console.error("Could not geolocate.")}).then(function(e){c.track(e),t(e)})["catch"](function(e){t(e)})}):void console.error("Must specify a node key.")},c.constructApiUrl=function(e,t){return t=t||{},_.keys(t).forEach(function(e){t[e]||delete t[e]}),_.keys(t).length>0?[a,e,"/billingInfo?",$.param(t)].join(""):[a,e,"/billingInfo"].join("")},c.fetchData=function(e,t,i){return new Promise(function(a,o){var s=c.constructApiUrl(e,t);$.ajax({dataFilter:n.sanitize,dataType:"text",type:"GET",url:s}).done(function(e){r&&console.log("GET:",s,e),c.getResumableVariants(i).then(function(t){e.resumable=t,c.setData(e),a(e)})["catch"](function(){console.error("Error fetching enrollment data"),e.resumable=!1,c.setData(e),a(e)})}).fail(function(e,t,n){r&&console.log("GET:",s,n),404===e.status?(c.setData({notAvailable:!0}),a({notAvailable:!0})):(console.error("Could not update payment information:",n),o(n))})})},c.getResumableVariants=function(t){return new Promise(function(n){t?e.users.getEnrollments().then(function(e){var t=e.enrollments.filter(function(e){return e.node_key===c.nodeKey&&"enrolled"===e.state&&null!==e.first_paid_enrollment_time});n(t.map(function(e){return e.product_variant}))}):n([])})},c.setCurrencyPreference=function(e){return new Promise(function(t){n.postPromise(i+"api/users/me/currency",{currency:e}).then(function(){t(e)},function(){console.error("Could not update currency preference."),t(e)})})},c.getGeolocatedCurrency=function(){return new Promise(function(e){c.getCountry().then(function(t){e(c.currencyFromCountry(t.country))})["catch"](function(){e(c.currencyFromCountry("default"))})})},c.getCountry=function(){return n.getPromise("//www.udacity.com/api/geolocation")},c.formatEnrollments=function(e){var t=(e||{enrollments:[]}).enrollments;return _.pluck(_.filter(t,function(e){return"enrolled"===e.state&&null!==e.first_paid_enrollment_time}),"node_key")},c.formatCertificates=function(e){var t=e.certificates;return _.map(t,function(e){return e.node_ref.key})},c.trackRegistered=function(){return e.users.getEnrollments().then(function(t){var n=c.formatEnrollments(t);e.users.getCertificates().then(function(e){var t=c.formatCertificates(e);!_.contains(_.union(t,n),c.nodeKey)&&c.node.available&&c.track(c.data)},function(){console.error("Could not fetch certificates.")})},function(){console.error("Could not fetch enrollments.")})},c.track=function(e){function t(e){var t=e.substring(0,2);return"nd"===t?"nanodegree":"course"}if("undefined"!=typeof analytics&&!e.notAvailable){var n=t(c.nodeKey),r={id:e.product.key,sku:c.nodeKey,name:e.product.name,price:e.product.list_price/100,available:c.node.available||"unknown",category:n,label:c.nodeKey,value:e.product.list_price/100*(s[e.product.currency].options.conversion||1),product_key:e.product.key,trial_period_days:"course"===n?14:7,currency:e.product.currency,coupon:null,coupon_valid:null,coupon_description:null,coupon_redeem_by:null,discount_amount:0,discount_type:null,price_before_discount:e.product.list_price/100};c.hasCoupon(e)&&(r.coupon=e.coupon.key,r.coupon_description=e.coupon.description,r.coupon_redeem_by=e.coupon.redeem_by,r.discount_type=e.coupon.duration,r.coupon_valid=e.coupon.valid,r.coupon_valid&&(r.discount_amount=Math.round(e.coupon.percent_off/100*r.price),r.price=r.price_before_discount-r.discount_amount,r.value=r.price)),c.options.track&&analytics.track("Viewed Product",r)}},c.setData=function(e){return c.data=e,c.data},c.getData=function(){return c.data},c.currencyFromCountry=function(e){return u[e]||u["default"]},c.formatMoney=function(e,n){e="undefined"==typeof e?0:e,
n="undefined"==typeof n?c.data.billing.currency:n;var r=s[n];return t.formatMoney(e/r.denomination,r.options)},c.formatBilling=function(e){var t=[];return e="undefined"==typeof e?c.data.billing:e,e.periods.forEach(function(n){var r,i,a,o,s=n.amount,u=n.interval.count,l=n.interval.interval;r=c.formatMoney(s,e.currency),i=c.formatMoney(s,e.currency)+"/"+l,1===u?(o=["for",u,l].join(" "),a=[c.formatMoney(s,e.currency),o].join(" ")):(o=u?["for",u,l].join(" "):"",a=u?[i,o].join(" "):i),t.push({tiny:r,"short":i,"long":a,suffix:o})}),t},c.formatBillingPresenter=function(e){var t=c.formatBilling(e);if(1===t.length)return[t.shift()["long"]];var n=t.shift();return[n.tiny].concat([n.suffix,t.map(function(e){return e["long"]}).join(", then ")].join(", then "))},c.formatBillingPretty=function(e){var t=c.formatBilling(e);return t.map(function(e){return e["long"]}).join(", then ")},c.hasCoupon=function(e){return e="undefined"==typeof e?c.data:e,!$.isEmptyObject(e.coupon)},c.hasValidCoupon=function(e){return e="undefined"==typeof e?c.data:e,c.hasCoupon(e)&&e.coupon.valid}}}(services,accounting,services.ajax),function(e){"use strict";var t={},n="analytics-",r={DEFAULT:"bindDefault",LINK:"bindLink",CTA:"bindCTA"};t.init=t.initialize=function(){$("[data-"+n+"name][data-"+n+"category]").each(function(){t.bind(t.parseOptions(this))})},t.parseOptions=function(e){var t=$(e),r=t.data(n+"payload")||{},i=t.data(n+"label")?t.data(n+"label"):t.data(n+"category");return r=_.extend(r,{category:t.data(n+"category"),label:i}),{$ele:t,name:t.data(n+"name"),payload:r,type:(t.data(n+"type")||"DEFAULT").toUpperCase(),selector:t.data(n+"selector")}},t.isLink=function(e){return!e.selector&&e.$ele.is("a")||e.selector&&e.$ele.find(e.selector).is("a")},t.bind=function(e){r.hasOwnProperty(e.type)?t[r[e.type]](e):t.bindDefault(e)},t.bindDefault=function(e){var n=function(){analytics.track(e.name,e.payload)};t.isLink(e)?t.bindLink(e):e.selector?e.$ele.on("click",e.selector,n):e.$ele.on("click",n)},t.bindLink=function(e){e.selector?e.$ele.find(e.selector).each(function(){analytics.trackLink(this,e.name,e.payload)}):analytics.trackLink(e.$ele,e.name,e.payload)},t.bindCTA=function(e){var n=["cta_type"],r=!0;$.each(n,function(t,n){e.payload[n]||(console.error('Udacity Analytics Error: missing required argument "'+n+'" on element '+e.$ele[0].innerHTML),r=!1)}),r&&(e.payload=_.extend({cta_message:e.selector?e.$ele.find(e.selector).text().trim():e.$ele.text().trim(),cta_location:window.location.pathname,cta_destination:e.payload.cta_destination||"current_window"},e.payload),t.isLink(e)?analytics.trackLink(e.$ele,e.name,e.payload):e.$ele.on("click",function(){analytics.track(e.name,e.payload)}))},e.segment=t}(services),function(e){"use strict";var t="//www.udacity.com/api/projects/submissions",n=function(){var n=this;n.getSubmissions=function(){return e.users.getSession().then(function(n){return n.account&&n.account.registered?e.getPromise(t+"?account_key"+n.account.key)["catch"](function(){return[]}):[]})["catch"](function(){return[]})}};e.Submissions=n}(services),function(e,t){"use strict";var n={session:"/api/session",certificates:"/api/users/me/certificates",enrollments:"/api/users/me/enrollments",currency:"/api/users/me/currency"},r=!1;if("localhost"===location.hostname){var i="https://www.udacity.com";for(var a in n)n.hasOwnProperty(a)&&(n[a]=i+n[a]);r=!0}var o=function(){var e=this,i={};e.fetchData=function(e){return i[e]||(i[e]=t.getPromise(n[e],r)),i[e]},e.getSession=function(){var t=e.fetchData("session");return t.then(function(e){window.account=e.account,window.session=e.session}),t},e.getEnrollments=function(){return e.fetchData("enrollments")},e.getCertificates=function(){return e.fetchData("certificates")},e.getCurrencyPreference=function(){var t=new Promise(function(t,n){e.fetchData("currency").then(function(e){e&&e.currency?t(e.currency):n()},function(e){console.error("Could not update currency information:",e),n(e)})});return t},e.getIdentifier=function(){return window.account&&window.account.registered?window.account.key:document.cookie.replace(/(?:(?:^|.*;\s*)ajs_anonymous_id\s*\=\s*%22([^;]*)%22.*$)|^.*$/,"$1")}};e.Users=o,e.users=new o}(services,services.ajax),function(e,t){"use strict";t.segment.init(),e(document).ready(function(){if(e("[data-show-guest]").hide(),t.users.getSession().then(function(t){t.account&&t.account.registered||(e("[data-show-student]").hide(),e("[data-show-guest]").show(300))})["catch"](function(){console.error("Could not fetch user session")}),void 0!==analytics){if(e("[data-eyebrow]").is(":visible")){var n={cta_message:e("[data-eyebrow] p").text().trim(),cta_type:"eyebrow",cta_destination:"same_window",cta_location:window.location.pathname,category:"Generic CTA",label:"Generic CTA - Eyebrow"};analytics.track("CTA Displayed",n),analytics.trackLink(e("[data-eyebrow] a:not(.close_banner)"),"CTA Clicked",n),e("[data-eyebrow] .close_banner").on("click",function(){analytics.track("CTA Dismissed",n)})}analytics.ready(function(){ga("require","linker"),ga("linker:autoLink",["udacity.com","youdaxuecheng.com"])})}})}(jQuery,services);